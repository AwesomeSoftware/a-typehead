!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common"),require("@angular/forms"),require("rxjs/Observable"),require("rxjs/Subject"),require("rxjs/add/observable/of"),require("rxjs/add/operator/switchMap"),require("rxjs/add/operator/debounceTime"),require("rxjs/add/operator/distinctUntilChanged")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/common","@angular/forms","rxjs/Observable","rxjs/Subject","rxjs/add/observable/of","rxjs/add/operator/switchMap","rxjs/add/operator/debounceTime","rxjs/add/operator/distinctUntilChanged"],e):e(t["awesome-typehead"]={},t.ng.core,t.ng.common,t.ng.forms,t.Rx,t.Rx)}(this,function(t,e,o,n,i,s){"use strict";var p=function(){function t(t){this.optionsElement=t,this.debug=!1,this.helperButton="test",this.onOptionSelected=new e.EventEmitter,this.onMouseEnter=new e.EventEmitter,this.onHelperButtonClick=new e.EventEmitter}return Object.defineProperty(t.prototype,"options",{get:function(){return this._options},set:function(t){this._options=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"style",{set:function(t){this.optionsElement.nativeElement.setAttribute("style",t)},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){},t.prototype.selectOption=function(t){this.onOptionSelected.emit(t)},t.prototype.isOptionSelected=function(t){return!!this.selectedOption&&("object"==typeof t?t.text===this.selectedOption.text:t===this.selectedOption)},t.prototype.onMouseEntered=function(t){this.onMouseEnter.emit(t)},t.prototype.onHelperButtonClickHandler=function(t){this.onHelperButtonClick.emit(t)},t}();p.decorators=[{type:e.Component,args:[{selector:"a-options",template:'\n      <div class="a-options"\n          (mouseenter)="onMouseEntered($event)" >\n          <ul class="dropdown-menu show">\n              <li class="hidden">\n                  <a href="javascript:void(0);" class="dropdown-item"\n                      *ngIf="helperButton"\n                      (click)="onHelperButtonClickHandler($event)">{{helperButton}}</a>\n              </li>\n              <li *ngFor="let option of options; let index=index">\n                  <a href="javascript:void(0);" class="dropdown-item" (click)="selectOption(option)"\n                      [ngClass]="{\'active\': isOptionSelected(option), \'hover\': index === activeFocusPosition && !isOptionSelected(option)}">\n                      {{option.text}}\n                  </a>\n              </li>\n              <li *ngIf="!options || options.length === 0">\n                  <div class="text-center">No matches</div>\n              </li>\n          </ul>\n      </div>\n    ',styles:["\n      .a-options > ul {\n        width: 100%; }\n\n      .a-options > ul > li > a {\n        padding-top: 0.5rem;\n        padding-bottom: 0.5rem; }\n        .a-options > ul > li > a.hover {\n          background-color: rgba(162, 162, 162, 0.1);\n          color: inherit; }\n    "]}]}],p.ctorParameters=function(){return[{type:e.ElementRef}]},p.propDecorators={options:[{type:e.Input}],selectedOption:[{type:e.Input}],mainElement:[{type:e.Input}],debug:[{type:e.Input}],style:[{type:e.Input}],activeFocusPosition:[{type:e.Input}],helperButton:[{type:e.Input}],onOptionSelected:[{type:e.Output}],onMouseEnter:[{type:e.Output}],onHelperButtonClick:[{type:e.Output}]};var r=function(){function t(){}return t.toAwesomeOptions=function(t,e,o){if(!t)return null;var n=[];return t.forEach(function(t){n.push(new l(e,o,t))}),n},t.fromAwesomeOptions=function(t){if(!t)return null;var e=[];return t.forEach(function(t){e.push(t.model)}),e},t.getStylesPosition=function(t,e){var o=t.querySelector(e).getBoundingClientRect(),n=o.width,i=o.height;return"position: absolute;\n                width: "+n+"px;\n                left: "+o.left+"px;\n                top: "+(o.top+i+window.pageYOffset)+"px;\n                z-index: 100000;"},t.stringToLowerSafely=function(t){return t?t.toLowerCase():t},t}(),l=function(){function t(t,e,o,n){this.textField=t,this.idField=e,this.model=o,this.simpleText=n}return Object.defineProperty(t.prototype,"text",{get:function(){return this.model&&this.textField?this.model[this.textField]:this.simpleText?this.simpleText:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.model&&this.idField?this.model[this.idField]:null},enumerable:!0,configurable:!0}),t.prototype.compare=function(e){if(!e)return!1;var o=r.stringToLowerSafely(this.text),n=this.id;if(e instanceof t){var i=r.stringToLowerSafely(e.text),s=e.id;return o===i&&n===s}i=r.stringToLowerSafely(e[this.textField]),s=e[this.idField];return o===i&&this.id===s},t}(),u=function(){},c=function(){function t(t,o,i,p){this.container=t,this.optionsElement=o,this.componentFactoryResolver=i,this.viewContainerRef=p,this.formControl=new n.FormControl,this.idField="id",this.textField="text",this.id=Math.random(),this.debug=!1,this.filterOnBackend=!1,this.filterDelayMs=150,this.helperButton="test",this.onHelperButtonClick=new e.EventEmitter,this.onOptionSelected=new e.EventEmitter,this.optionsRaw=[],this.optionsUnFiltered=[],this.optionsFiltered=[],this._optionsOpened=!1,this.optionsFilterTerms=new s.Subject,this.isDisabled=!1,this.onChange=u,this.onTouched=u,this.onWindowScrollOrResizeDelegate=this.onWindowScrollOrResize.bind(this),this.onBodyClickDelegate=this.onBodyClick.bind(this)}return Object.defineProperty(t.prototype,"options",{set:function(t){this.optionsRaw=t,this.setOptions(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedOption",{get:function(){return this._selectedOption},set:function(t){this.setSelectedOption(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"optionsOpened",{get:function(){return this._optionsOpened},set:function(t){this._optionsOpened=t},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this.filterOnBackend||(this.optionsFilterObservable=this.optionsFilterTerms.debounceTime(this.filterDelayMs).distinctUntilChanged().switchMap(function(e){return i.Observable.of(t.filterOptions(e,t.optionsUnFiltered))}),this.optionsFilterObservable.subscribe(function(e){t.debug&&console.log("filtered",e,t.optionsFiltered,t.optionsUnFiltered),t.optionsFiltered=e,t.optionsComponentRef.instance.options=e}))},t.prototype.ngOnDestroy=function(){this.removeOptionsComFromBody()},t.prototype.writeValue=function(t){this.isValueUpdateRequired(t)&&this.setSelectedOption(t,!1)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this.isDisabled=t},t.prototype.toggleOptions=function(){!0===this._optionsOpened?this.closeOptions():(this.optionsFilterTerms.next(this.typeHeadValue),this.openOptions(),this.focusIntoInputControl())},t.prototype.openOptions=function(){this._optionsOpened=!0,this.appendOptionsCompToBody(),this.bindEvents()},t.prototype.closeOptions=function(){this.removeOptionsComFromBody(),this._optionsOpened=!1,this.activeFocusPosition=undefined,this.unBindEvents()},t.prototype.focusIntoInputControl=function(){var t=this;setTimeout(function(){t.getInputControl().select()},1)},t.prototype.selectInputControlText=function(){var t=this;setTimeout(function(){t.getInputControl().select()},1)},t.prototype.optionWasSelected=function(t){this.debug&&console.log("onOptionSelected",t),this.selectedOption=t,this.closeOptions(),t&&(this.selectInputControlText(),this.onOptionSelected.emit(t.model))},t.prototype.onInputBlur=function(t){var e=this;this.selectedOption&&this.selectedOption.text===this.typeHeadValue||this.matchInputWithOption(),setTimeout(function(){e.debug&&console.log("onInputBlur"),document.activeElement!==e.getInputGroupButton()&&document.activeElement!==e.getInputControl()&&e.closeOptions(),e.onTouched()},250)},t.prototype.onInputKeyPressed=function(t){switch(t.keyCode){case 38:case 40:t.preventDefault(),this.optionsOpened||this.openOptions(),38===t.keyCode?this.moveActiveFocus(-1):40===t.keyCode&&this.moveActiveFocus(1),this.optionsComponentRef.instance.activeFocusPosition=this.activeFocusPosition;break;case 27:t.preventDefault(),this.optionsOpened&&this.closeOptions(),this.selectedOption?this.selectedOption.text!==this.typeHeadValue&&(this.typeHeadValue=this.selectedOption.text):this.typeHeadValue="",this.focusIntoInputControl();break;case 13:if(t.preventDefault(),this.activeFocusPosition!==undefined){var e=this.optionsFiltered[this.activeFocusPosition];this.setSelectedOption(e),this.activeFocusPosition=undefined,this.closeOptions(),this.focusIntoInputControl()}else""===this.typeHeadValue?(this.setSelectedOption(null),this.closeOptions()):(this.matchInputWithOption(),this.closeOptions(),this.focusIntoInputControl())}},t.prototype.onOptionsMouseEntered=function(t){},t.prototype.onInputGroupMouseEntered=function(t){},t.prototype.onWindowScrollOrResize=function(){this.updateOptionsScreenLocation()},t.prototype.onBodyClick=function(t){var e=t.path.indexOf(this.container.nativeElement);-1===e&&(e=t.path.indexOf(this.optionsComponentRef.instance.optionsElement.nativeElement)),-1===e?this.closeOptions():t.preventDefault()},t.prototype.onInputChange=function(t){this.debug&&console.log("onInputChange",t),this.optionsOpened||this.openOptions(),this.optionsFilterTerms.next(t)},t.prototype.appendOptionsCompToBody=function(){var t=this,e=this.componentFactoryResolver.resolveComponentFactory(p);this.optionsComponentRef=this.viewContainerRef.createComponent(e),this.optionsComponentRef.changeDetectorRef.detectChanges(),this.optionsComponentRef.instance.options=this.optionsFiltered,this.optionsComponentRef.instance.debug=this.debug,this.optionsComponentRef.instance.selectedOption=this.selectedOption,this.optionsComponentRef.instance.mainElement=this.container,this.optionsComponentRef.instance.helperButton=this.helperButton,this.optionsComponentRef.instance.onOptionSelected.subscribe(function(e){return t.optionWasSelected(e)}),this.optionsComponentRef.instance.onHelperButtonClick.subscribe(function(e){return t.onHelperButtonClick.emit(e)}),document.querySelector("body").appendChild(this.optionsComponentRef.instance.optionsElement.nativeElement),this.updateOptionsScreenLocation()},t.prototype.removeOptionsComFromBody=function(){this.optionsComponentRef&&this.optionsComponentRef.destroy()},t.prototype.setOptions=function(t){if(this.debug&&console.log("setOptions",t),t){var e=r.toAwesomeOptions(t,this.textField,this.idField);this.optionsUnFiltered=e,this.optionsFiltered=e}else this.optionsUnFiltered=[]},t.prototype.setSelectedOption=function(t,e){if(void 0===e&&(e=!0),this.debug&&console.log("setSelectedOption",t,e),t)if(t instanceof l)this.isValueUpdateRequired(t)&&this.updateSelectedOptionValue(t,t.text,e);else if("object"==typeof t){var o=new l(this.textField,this.idField,t);this.updateSelectedOptionValue(o,o.text,e)}else{o=new l(null,null,null,t);this.updateSelectedOptionValue(o.text,o.text,e)}else this.updateSelectedOptionValue(null,null,e)},t.prototype.updateSelectedOptionValue=function(t,e,o){void 0===o&&(o=!0),this.debug&&console.log("updateSelectedOptionValue",t,e,o),this._selectedOption=t,this.typeHeadValue=e,o&&(t instanceof l?(this.formControl.setValue(t.model),this.onChange(t.model)):(this.formControl.setValue(t),this.onChange(t)))},t.prototype.matchInputWithOption=function(){var t=this;if(this.typeHeadValue)if(this.optionsFiltered&&1===this.optionsFiltered.length)this.selectedOption=this.optionsFiltered[0],this.typeHeadValue=this.optionsFiltered[0].text,this.onOptionSelected.emit(this.selectedOption.model);else{var e=this.optionsUnFiltered.find(function(e){return e.text.toLocaleLowerCase()===t.typeHeadValue.toLocaleLowerCase()});e?(this.selectedOption=e,this.typeHeadValue=e.text,this.onOptionSelected.emit(e.model)):(this.typeHeadValue=null,this.selectedOption=null)}else this.selectedOption=null},t.prototype.updateOptionsScreenLocation=function(){var t=this.container.nativeElement.querySelector(".a-typehead").getBoundingClientRect(),e=t.width,o=t.height,n=t.left,i=t.top+o+window.pageYOffset;this.optionsComponentRef.instance.style="position: absolute;\n            width: "+e+"px;\n            left: "+n+"px;\n            top: "+i+"px;\n            z-index: 10000"},t.prototype.getInputControl=function(){return this.container.nativeElement.querySelector(".form-control")},t.prototype.getInputGroupButton=function(){return this.container.nativeElement.querySelector(".input-group-addon")},t.prototype.bindEvents=function(){window.addEventListener("scroll",this.onWindowScrollOrResizeDelegate,!0),window.addEventListener("resize",this.onWindowScrollOrResizeDelegate,!0),document.addEventListener("click",this.onBodyClickDelegate,!0)},t.prototype.unBindEvents=function(){window.removeEventListener("scroll",this.onWindowScrollOrResizeDelegate,!0),window.removeEventListener("resize",this.onWindowScrollOrResizeDelegate,!0),document.removeEventListener("click",this.onBodyClickDelegate,!0)},t.prototype.isValueUpdateRequired=function(t){return this._selectedOption&&!this._selectedOption.compare(t)||!this._selectedOption&&t},t.prototype.filterOptions=function(t,e){return this.debug&&console.log("filterOptions",e),t&&""!==t?this.selectedOption&&this.selectedOption.text.toLowerCase()===t.toLowerCase()?e:e.filter(function(e){return e.text.toLowerCase().includes(t.toLowerCase())}):e},t.prototype.moveActiveFocus=function(t){this.debug&&console.log("moveActiveFocus position",t);var e=this.activeFocusPosition;e===undefined?e=0:e+=t,this.optionsFiltered.length<e+1?e=0:e<0&&(e=this.optionsFiltered.length-1),this.activeFocusPosition=e,this.debug&&console.log("moveActiveFocus newPos",e)},t}();c.decorators=[{type:e.Component,args:[{selector:"a-typehead",providers:[{provide:n.NG_VALUE_ACCESSOR,useExisting:e.forwardRef(function(){return c}),multi:!0}],template:'\n      <div class="input-group a-typehead"\n          (mouseenter)="onInputGroupMouseEntered($event)">\n          <input type="text" class="form-control" autocomplete="off"\n              (blur)="onInputBlur($event)"\n              (keydown)="onInputKeyPressed($event)"\n              (ngModelChange)="onInputChange($event)"\n              [id]="id"\n              [(ngModel)]="typeHeadValue"\n              [disabled]="isDisabled" />\n          <input type="hidden" [formControl]="formControl" />\n          <span class="input-group-btn">\n              <button type="button" class="btn btn-secondary" (click)="toggleOptions()" [disabled]="isDisabled">\n                  <i class="dropdown-toggle"></i>\n              </button>\n          </span>\n      </div>\n      <div *ngIf="debug">debug: {{_selectedOption|json}}</div>\n    ',styles:["\n\n    "]}]}],c.ctorParameters=function(){return[{type:e.ElementRef},{type:e.ElementRef},{type:e.ComponentFactoryResolver},{type:e.ViewContainerRef}]},c.propDecorators={formControl:[{type:e.Input}],idField:[{type:e.Input}],textField:[{type:e.Input}],id:[{type:e.Input}],debug:[{type:e.Input}],options:[{type:e.Input}],selectedOption:[{type:e.Input}],optionsOpened:[{type:e.Input}],filterOnBackend:[{type:e.Input}],filterDelayMs:[{type:e.Input}],helperButton:[{type:e.Input}],onHelperButtonClick:[{type:e.Output}],onOptionSelected:[{type:e.Output}]};var d=function(){},a=function(){function t(t,o,i,p){this.container=t,this.optionsElement=o,this.componentFactoryResolver=i,this.viewContainerRef=p,this.formControl=new n.FormControl,this.idField="id",this.textField="text",this.placeholder="",this.id=Math.random(),this.debug=!1,this.filterDelayMs=50,this.onHelperButtonClick=new e.EventEmitter,this.onOptionSelected=new e.EventEmitter,this.isDisabled=!1,this.optionsDropOpen=!1,this.inputFocusedIn=!1,this.optionsRaw=[],this.optionsUnFiltered=[],this.optionsFiltered=[],this.selectedOptionsValue=[],this.onWindowScrollOrResizeDelegate=this.onWindowScrollOrResize.bind(this),this.onBodyClickDelegate=this.onBodyClick.bind(this),this.optionsFilterTerms=new s.Subject,this.onChange=d,this.onTouched=d}return Object.defineProperty(t.prototype,"options",{set:function(t){this.optionsRaw=t,this.setOptions(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedOptions",{set:function(t){this.setSelectedOptions(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"optionsOpened",{set:function(t){this.optionsDropOpen=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){this.isValueUpdateRequired(t)&&this.setSelectedOptions(t,!1)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this.isDisabled=t},t.prototype.ngOnInit=function(){var t=this;this.optionsFilterObservable=this.optionsFilterTerms.debounceTime(this.filterDelayMs).switchMap(function(e){return i.Observable.of(t.filterOptions(e,t.optionsUnFiltered))}),this.optionsFilterObservable.subscribe(function(e){t.debug&&console.log("filtered",e,t.optionsFiltered,t.optionsUnFiltered),t.optionsFiltered=e,t.optionsComponentRef.instance.options=e})},t.prototype.ngOnDestroy=function(){this.removeOptionsComFromBody()},t.prototype.onInputBlur=function(t){var e=this;this.toggleClassOnFocus(),this.debug&&console.log("onInputBlur"),setTimeout(function(){document.activeElement!==e.getInputGroupButton()&&document.activeElement!==e.getInputControl()&&e.closeOptions(),e.onTouched()},250)},t.prototype.onInputFocus=function(t){this.toggleClassOnFocus()},t.prototype.onInputKeyPressed=function(t){switch(t.keyCode){case 38:case 40:t.preventDefault(),this.optionsDropOpen||this.openOptions(),38===t.keyCode?this.moveActiveFocus(-1):40===t.keyCode&&this.moveActiveFocus(1),this.optionsComponentRef.instance.activeFocusPosition=this.activeFocusPosition;break;case 27:t.preventDefault(),this.optionsDropOpen&&this.closeOptions(),this.typeHeadValue="",this.focusIntoInputControl();break;case 13:if(t.preventDefault(),this.activeFocusPosition!==undefined){var e=this.optionsFiltered[this.activeFocusPosition];this.optionWasSelected(e),this.activeFocusPosition=undefined,this.closeOptions(),this.focusIntoInputControl()}else this.matchInputWithOption()}},t.prototype.onInputChange=function(t){this.debug&&console.log("onInputChange",t),this.optionsDropOpen||this.openOptions(),this.optionsFilterTerms.next(t)},t.prototype.optionWasSelected=function(t){this.debug&&console.log("optionWasSelected",t),this.selectedOptionsValue||(this.selectedOptionsValue=[]),this.selectedOptionsValue.push(t),this.setSelectedOptions(this.selectedOptionsValue),this.closeOptions(),t&&(this.selectInputControlText(),this.onOptionSelected.emit(this.selectedOptionsValue.map(function(t){return t.model})))},t.prototype.onOptionRemove=function(t){this.debug&&console.log("onOptionRemove",t),this.selectedOptionsValue=this.selectedOptionsValue.filter(function(e){return!1===e.compare(t)}),this.setSelectedOptions(this.selectedOptionsValue)},t.prototype.onWindowScrollOrResize=function(){this.updateOptionsScreenLocation()},t.prototype.onBodyClick=function(t){var e=t.path.indexOf(this.container.nativeElement);-1===e&&(e=t.path.indexOf(this.optionsComponentRef.instance.optionsElement.nativeElement)),-1===e?this.closeOptions():t.preventDefault()},t.prototype.setOptions=function(t){if(this.debug&&console.log("setOptions",t),t){var e=r.toAwesomeOptions(t,this.textField,this.idField);this.optionsUnFiltered=e,this.optionsFiltered=e}else this.optionsUnFiltered=[]},t.prototype.setSelectedOptions=function(t,e){var o=this;if(void 0===e&&(e=!0),this.debug&&console.log("setSelectedOptions",t,e),t&&0!==t.length){var n=!(t[0]instanceof l),i=n?[]:t;n&&t.forEach(function(t){var e;e="object"==typeof t?new l(o.textField,o.idField,t):new l(null,null,null,t),i.push(e)}),this.isValueUpdateRequired(i)&&this.updateSelectedOptionsValue(i,e)}else this.updateSelectedOptionsValue(null,e)},t.prototype.updateSelectedOptionsValue=function(t,e){if(void 0===e&&(e=!0),this.debug&&console.log("updateSelectedOptionsValue",t,e),this.selectedOptionsValue=t,this.typeHeadValue="",e){var o=r.fromAwesomeOptions(t);this.formControl.setValue(o),this.onChange(o)}},t.prototype.toggleOptions=function(t){!0===this.optionsDropOpen?this.closeOptions():(this.optionsFilterTerms.next(this.typeHeadValue),this.openOptions(),this.focusIntoInputControl())},t.prototype.toggleClassOnFocus=function(){this.inputFocusedIn=!this.inputFocusedIn},t.prototype.openOptions=function(){this.optionsDropOpen=!0,this.appendOptionsCompToBody(),this.bindEvents()},t.prototype.closeOptions=function(){this.removeOptionsComFromBody(),this.optionsDropOpen=!1,this.activeFocusPosition=undefined,this.unBindEvents()},t.prototype.bindEvents=function(){window.addEventListener("scroll",this.onWindowScrollOrResizeDelegate,!0),window.addEventListener("resize",this.onWindowScrollOrResizeDelegate,!0),document.addEventListener("click",this.onBodyClickDelegate,!0)},t.prototype.unBindEvents=function(){window.removeEventListener("scroll",this.onWindowScrollOrResizeDelegate,!0),window.removeEventListener("resize",this.onWindowScrollOrResizeDelegate,!0),document.removeEventListener("click",this.onBodyClickDelegate,!0)},t.prototype.appendOptionsCompToBody=function(){var t=this,e=this.componentFactoryResolver.resolveComponentFactory(p);this.optionsComponentRef=this.viewContainerRef.createComponent(e),this.optionsComponentRef.changeDetectorRef.detectChanges(),this.optionsComponentRef.instance.options=this.optionsFiltered,this.optionsComponentRef.instance.debug=this.debug,this.optionsComponentRef.instance.mainElement=this.container,this.optionsComponentRef.instance.onOptionSelected.subscribe(function(e){return t.optionWasSelected(e)}),document.querySelector("body").appendChild(this.optionsComponentRef.instance.optionsElement.nativeElement),this.updateOptionsScreenLocation()},t.prototype.removeOptionsComFromBody=function(){this.optionsComponentRef&&this.optionsComponentRef.destroy()},t.prototype.updateOptionsScreenLocation=function(){var t=r.getStylesPosition(this.container.nativeElement,".a-typehead-multiple");this.optionsComponentRef.instance.style=t},t.prototype.focusIntoInputControl=function(){var t=this;setTimeout(function(){t.getInputControl().select()},1)},t.prototype.getInputControl=function(){return this.container.nativeElement.querySelector(".typehead-input")},t.prototype.getInputGroupButton=function(){return this.container.nativeElement.querySelector(".input-group-addon")},t.prototype.selectInputControlText=function(){var t=this;setTimeout(function(){t.getInputControl().select()},1)},t.prototype.isValueUpdateRequired=function(t){return!0},t.prototype.filterOptions=function(t,e){var o=this;this.debug&&console.log("filterOptions begin",t,e);var n=[];return n=(n=t&&""!==t?e.filter(function(e){return e.text.toLowerCase().includes(t.toLowerCase())}):e).filter(function(t){return 0===(o.selectedOptionsValue||[]).filter(function(e){return t.compare(e)}).length}),this.debug&&console.log("filterOptions end",n),n},t.prototype.moveActiveFocus=function(t){this.debug&&console.log("moveActiveFocus position",t);var e=this.activeFocusPosition;e===undefined?e=0:e+=t,this.optionsFiltered.length<e+1?e=0:e<0&&(e=this.optionsFiltered.length-1),this.activeFocusPosition=e,this.debug&&console.log("moveActiveFocus newPos",e)},t.prototype.matchInputWithOption=function(){var t=this;if(this.typeHeadValue&&""!==this.typeHeadValue)if(this.optionsFiltered&&1===this.optionsFiltered.length)this.optionWasSelected(this.optionsFiltered[0]);else{var e=this.optionsUnFiltered.find(function(e){return e.text.toLocaleLowerCase()===t.typeHeadValue.toLocaleLowerCase()});e&&this.optionWasSelected(e),this.typeHeadValue=""}},t}();a.decorators=[{type:e.Component,args:[{selector:"a-typehead-multiple",providers:[{provide:n.NG_VALUE_ACCESSOR,useExisting:e.forwardRef(function(){return a}),multi:!0}],template:'\n      <div class="input-group a-typehead-multiple">\n          <div class="form-control typehead-container"\n              [ngClass]="{\'focus\': inputFocusedIn}">\n              <span class="badge badge-secondary option"\n                  *ngFor="let option of selectedOptionsValue; let index=index">\n                  <span class="option-text">{{option.text}}</span>\n                  <span class="option-close"\n                      (click)="onOptionRemove(option)">\n                      <i class="ion-close-round"></i>\n                  </span>\n              </span>\n              <input type="text" class="form-control typehead-input" autocomplete="off"\n                  (blur)="onInputBlur($event)"\n                  (focus)="onInputFocus($event)"\n                  (keydown)="onInputKeyPressed($event)"\n                  (ngModelChange)="onInputChange($event)"\n                  [id]="id"\n                  [(ngModel)]="typeHeadValue"\n                  [disabled]="isDisabled"\n                  [placeholder]="placeholder" />\n          </div>\n          <span class="input-group-btn">\n              <button type="button" class="btn btn-secondary typehead-btn" (click)="toggleOptions()" [disabled]="isDisabled">\n                  <i class="dropdown-toggle"></i>\n              </button>\n          </span>\n      </div>\n      <div *ngIf="debug">debug: {{selectedOptionsValue|json}}</div>\n    ',styles:["\n      .a-typehead-multiple .typehead-input {\n        border: none;\n        -webkit-box-shadow: none;\n                box-shadow: none;\n        min-width: 100px;\n        float: left; }\n\n      .a-typehead-multiple .typehead-container {\n        padding: 0;\n        display: block; }\n\n      .a-typehead-multiple .typehead-btn {\n        height: 100%; }\n\n      .a-typehead-multiple .option {\n        font-size: 1rem;\n        margin: 5px 0 0px 5px;\n        position: relative;\n        padding-right: 17px;\n        float: left; }\n        .a-typehead-multiple .option > .option-close {\n          position: absolute;\n          right: 5px;\n          top: 5px;\n          cursor: pointer;\n          font-size: 0.8rem; }\n    "]}]}],a.ctorParameters=function(){return[{type:e.ElementRef},{type:e.ElementRef},{type:e.ComponentFactoryResolver},{type:e.ViewContainerRef}]},a.propDecorators={formControl:[{type:e.Input}],idField:[{type:e.Input}],textField:[{type:e.Input}],placeholder:[{type:e.Input}],id:[{type:e.Input}],debug:[{type:e.Input}],options:[{type:e.Input}],selectedOptions:[{type:e.Input}],optionsOpened:[{type:e.Input}],filterDelayMs:[{type:e.Input}],onHelperButtonClick:[{type:e.Output}],onOptionSelected:[{type:e.Output}]};var h=function(){return function(){}}();h.decorators=[{type:e.NgModule,args:[{imports:[o.CommonModule,n.FormsModule,n.ReactiveFormsModule],declarations:[c,a,p],providers:[],exports:[c,a,p],entryComponents:[c,a,p]}]}],h.ctorParameters=function(){return[]},t.AwesomeTypeheadModule=h,t.ɵc=p,t.ɵb=a,t.ɵa=c,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=awesome-typehead.umd.min.js.map
