{"version":3,"file":"awesome-typehead.js","sources":["ts/awesome-typehead.ts","ts/src/app/a-typehead/awesome-typehead.module.ts","ts/src/app/a-typehead/awesome-typehead-multiple/awesome-typehead-multiple.component.ts","ts/src/app/a-typehead/awesome-typehead/awesome-typehead.component.ts","ts/src/app/a-typehead/shared/awesome-option.ts","ts/src/app/a-typehead/shared/awesome-helper.ts","ts/src/app/a-typehead/awesome-options/awesome-options.component.ts"],"sourcesContent":["/**\n * Generated bundle index. Do not edit.\n */\n\nexport {AwesomeTypeheadModule} from './public_api';\n\nexport {AwesomeOptionsComponent as ɵc} from './src/app/a-typehead/awesome-options/awesome-options.component';\nexport {AwesomeTypeheadMultipleComponent as ɵb} from './src/app/a-typehead/awesome-typehead-multiple/awesome-typehead-multiple.component';\nexport {AwesomeTypeheadComponent as ɵa} from './src/app/a-typehead/awesome-typehead/awesome-typehead.component';","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { AwesomeTypeheadComponent } from './awesome-typehead/awesome-typehead.component';\nimport { AwesomeTypeheadMultipleComponent } from './awesome-typehead-multiple/awesome-typehead-multiple.component';\nimport { AwesomeOptionsComponent } from './awesome-options/awesome-options.component';\nimport'rxjs/add/observable/of';\nimport'rxjs/add/operator/switchMap';\nimport'rxjs/add/operator/debounceTime';\nimport'rxjs/add/operator/distinctUntilChanged';\nexport class AwesomeTypeheadModule { static decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{\n    imports: [\n        CommonModule,\n        FormsModule,\n        ReactiveFormsModule\n    ],\n    declarations: [\n        AwesomeTypeheadComponent,\n        AwesomeTypeheadMultipleComponent,\n        AwesomeOptionsComponent\n    ],\n    providers: [\n    ],\n    exports: [\n        AwesomeTypeheadComponent,\n        AwesomeTypeheadMultipleComponent,\n        AwesomeOptionsComponent\n    ],\n    entryComponents: [\n        AwesomeTypeheadComponent,\n        AwesomeTypeheadMultipleComponent,\n        AwesomeOptionsComponent\n    ],\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction AwesomeTypeheadModule_tsickle_Closure_declarations() {\n/** @type {?} */\nAwesomeTypeheadModule.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nAwesomeTypeheadModule.ctorParameters;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { Component, Input, OnInit, ElementRef, forwardRef, ComponentFactoryResolver,\n    ViewContainerRef, ComponentRef, OnDestroy, Output, EventEmitter } from '@angular/core';\nimport { FormControl, ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\n\nimport { Observable } from 'rxjs/Observable';\nimport { Subscription } from 'rxjs/Subscription';\nimport { Subject } from 'rxjs/Subject';\n\nimport { AwesomeOptionsComponent } from '../awesome-options/awesome-options.component';\nimport { AwesomeOption } from './../shared/awesome-option';\nimport { AwesomeHelper } from '../shared/awesome-helper';\n\nconst /** @type {?} */ noop = () => {};\nexport class AwesomeTypeheadMultipleComponent implements OnInit, OnDestroy, ControlValueAccessor {\npublic formControl: FormControl = new FormControl();\npublic idField = 'id';\npublic textField = 'text';\npublic placeholder = '';\npublic id = Math.random();\npublic debug = false;\n/**\n * @param {?} options\n * @return {?}\n */\npublic set options(options: any[]) {\n        this.optionsRaw = options;\n        this.setOptions(options);\n    }\n/**\n * @param {?} options\n * @return {?}\n */\npublic set selectedOptions(options: any[]) {\n        this.setSelectedOptions(options);\n    }\n/**\n * @param {?} val\n * @return {?}\n */\npublic set optionsOpened(val: boolean) {\n        this.optionsDropOpen = val;\n    }\npublic filterDelayMs = 50;\npublic onHelperButtonClick = new EventEmitter<any>();\npublic onOptionSelected = new EventEmitter<any>();\nprivate isDisabled = false;\nprivate optionsDropOpen = false;\nprivate inputFocusedIn = false;\nprivate optionsRaw: any[] = [];\nprivate optionsUnFiltered: AwesomeOption[] = [];\nprivate optionsFiltered: AwesomeOption[] = [];\nprivate selectedOptionsValue: AwesomeOption[] = [];\nprivate typeHeadValue: string;\nprivate activeFocusPosition: number;\nprivate optionsComponentRef: ComponentRef<AwesomeOptionsComponent>;\nprivate optionsFilterObservable: Observable<AwesomeOption[]>;\nprivate onWindowScrollOrResizeDelegate: any = this.onWindowScrollOrResize.bind(this);\nprivate onBodyClickDelegate: any = this.onBodyClick.bind(this);\nprivate optionsFilterTerms = new Subject<string>();\nprivate onChange: (_: any) => void = noop;\nprivate onTouched: () => void = noop;\n/**\n * @param {?} val\n * @return {?}\n */\nwriteValue(val: any): void {\n        if (this.isValueUpdateRequired(val)) {\n            this.setSelectedOptions(val, false);\n        }\n    }\n/**\n * @param {?} fn\n * @return {?}\n */\nregisterOnChange(fn: (_: any) => {}): void {\n        this.onChange = fn;\n    }\n/**\n * @param {?} fn\n * @return {?}\n */\nregisterOnTouched(fn: () => {}): void {\n        this.onTouched = fn;\n    }\n/**\n * @param {?} isDisabled\n * @return {?}\n */\nsetDisabledState(isDisabled: boolean): void {\n        this.isDisabled = isDisabled;\n    }\n/**\n * @param {?} container\n * @param {?} optionsElement\n * @param {?} componentFactoryResolver\n * @param {?} viewContainerRef\n */\nconstructor(public container: ElementRef,\npublic optionsElement: ElementRef,\nprivate componentFactoryResolver: ComponentFactoryResolver,\nprivate viewContainerRef: ViewContainerRef) {}\n/**\n * @return {?}\n */\nngOnInit() {\n        if (false) {\n            // TODO develop filtering on backend\n            // it should execute the routine for requesting data\n            // and show the spinner while this is loading\n        } else {\n            // run the filter search with debounce time configured in the component\n            this.optionsFilterObservable = this.optionsFilterTerms\n                .debounceTime(this.filterDelayMs)\n                .switchMap(term => {\n                    return Observable.of(this.filterOptions(term, this.optionsUnFiltered));\n                });\n            // update filtered options\n            this.optionsFilterObservable.subscribe((data: AwesomeOption[]) => {\n                if (this.debug) {\n                    console.log('filtered', data, this.optionsFiltered, this.optionsUnFiltered);\n                }\n                this.optionsFiltered = data;\n                this.optionsComponentRef.instance.options = data;\n            });\n        }\n    }\n/**\n * @return {?}\n */\nngOnDestroy() {\n        this.removeOptionsComFromBody();\n    }\n/**\n * @param {?} $event\n * @return {?}\n */\nprivate onInputBlur($event) {\n        this.toggleClassOnFocus();\n        if (this.debug) {\n            console.log('onInputBlur');\n        }\n        setTimeout(() => {\n            // close the options if active focus is not inside the element\n            if ((document.activeElement !== this.getInputGroupButton()) &&\n                (document.activeElement !== this.getInputControl())) {\n                this.closeOptions();\n            }\n            this.onTouched();\n        }, 250);\n    }\n/**\n * @param {?} $event\n * @return {?}\n */\nprivate onInputFocus($event: Event) {\n        this.toggleClassOnFocus();\n    }\n/**\n * @param {?} $event\n * @return {?}\n */\nprivate onInputKeyPressed($event) {\n        switch ($event.keyCode) {\n            // https://css-tricks.com/snippets/javascript/javascript-keycodes/\n            case 38: // up arrow\n            case 40: // down arrow\n                $event.preventDefault();\n                // open options dropdown if it was closed\n                if (!this.optionsDropOpen) {\n                    this.openOptions();\n                }\n                // move the active option line\n                if ($event.keyCode === 38) {\n                    this.moveActiveFocus(-1);\n                } else if ($event.keyCode === 40) {\n                    this.moveActiveFocus(+1);\n                }\n                this.optionsComponentRef.instance.activeFocusPosition = this.activeFocusPosition;\n                break;\n            case 27: // escape\n                $event.preventDefault();\n                // close options dropdown if it was open\n                if (this.optionsDropOpen) {\n                    this.closeOptions();\n                }\n                // reset the typehead text\n                this.typeHeadValue = '';\n                // focus into typehead\n                this.focusIntoInputControl();\n                break;\n            case 13: // enter\n                $event.preventDefault();\n                if (this.activeFocusPosition !== undefined) {\n                    const /** @type {?} */ selectedOption = this.optionsFiltered[this.activeFocusPosition];\n                    this.optionWasSelected(selectedOption);\n                    this.activeFocusPosition = undefined;\n                    this.closeOptions();\n                    this.focusIntoInputControl();\n                } else {\n                    this.matchInputWithOption();\n                }\n                break;\n        }\n    }\n/**\n * @param {?} $event\n * @return {?}\n */\nprivate onInputChange($event) {\n        if (this.debug) {\n            console.log('onInputChange', $event);\n        }\n        // open options dropdown if it was closed\n        if (!this.optionsDropOpen) {\n            this.openOptions();\n        }\n        // insert term into routine call\n        this.optionsFilterTerms.next($event);\n    }\n/**\n * @param {?} option\n * @return {?}\n */\nprivate optionWasSelected(option: AwesomeOption) {\n        if (this.debug) {\n            console.log('optionWasSelected', option);\n        }\n        if (!this.selectedOptionsValue) {\n            this.selectedOptionsValue = [];\n        }\n        this.selectedOptionsValue.push(option);\n        this.setSelectedOptions(this.selectedOptionsValue);\n        this.closeOptions();\n        if (option) {\n            this.selectInputControlText();\n            this.onOptionSelected.emit(this.selectedOptionsValue.map((opt: AwesomeOption) => {\n                return opt.model;\n            }));\n        }\n    }\n/**\n * @param {?} option\n * @return {?}\n */\nprivate onOptionRemove(option: AwesomeOption) {\n        if (this.debug) {\n            console.log('onOptionRemove', option);\n        }\n        this.selectedOptionsValue = this.selectedOptionsValue.filter((filteredOption: AwesomeOption) => {\n            return filteredOption.compare(option) === false;\n        });\n        this.setSelectedOptions(this.selectedOptionsValue);\n    }\n/**\n * @return {?}\n */\nprivate onWindowScrollOrResize() {\n        this.updateOptionsScreenLocation();\n    }\n/**\n * @param {?} $event\n * @return {?}\n */\nprivate onBodyClick($event) {\n        // find if the click has occured inside of the container or options elements\n        let /** @type {?} */ matchingElement = $event.path.indexOf(this.container.nativeElement);\n        if (matchingElement === -1) {\n            matchingElement = $event.path.indexOf(this.optionsComponentRef.instance.optionsElement.nativeElement);\n        }\n        // if the click was outside of either component elements ignore and prevent the event\n        // otherwise close the options\n        if (matchingElement !== -1) {\n            $event.preventDefault();\n            return;\n        } else {\n            this.closeOptions();\n        }\n    }\n/**\n * @param {?} options\n * @return {?}\n */\nprivate setOptions(options: any[]) {\n        if (this.debug) {\n            console.log('setOptions', options);\n        }\n        if (!options) {\n            this.optionsUnFiltered = [];\n        } else {\n            const /** @type {?} */ awesomeOptions: AwesomeOption[] = AwesomeHelper\n                .toAwesomeOptions(options, this.textField, this.idField);\n            this.optionsUnFiltered = awesomeOptions;\n            this.optionsFiltered = awesomeOptions;\n        }\n    }\n/**\n * @param {?} options\n * @param {?=} updateFormControl\n * @return {?}\n */\nprivate setSelectedOptions(options: any[], updateFormControl = true) {\n        if (this.debug) {\n            console.log('setSelectedOptions', options, updateFormControl);\n        }\n        if (!options || options.length === 0) {\n            this.updateSelectedOptionsValue(null, updateFormControl);\n            return;\n        }\n        const /** @type {?} */ needToConvert = !(options[0] instanceof AwesomeOption);\n        const /** @type {?} */ awesomeOptions = needToConvert ? [] : options;\n        if (needToConvert) {\n            options.forEach(option => {\n                let /** @type {?} */ aOption: AwesomeOption;\n                if (typeof option === 'object') {\n                    aOption = new AwesomeOption(this.textField, this.idField, option);\n                } else {\n                    aOption = new AwesomeOption(null, null, null, option);\n                }\n                awesomeOptions.push(aOption);\n            });\n        }\n        // update value only if it differes\n        // this prevents unnecessary events being triggered\n        if (this.isValueUpdateRequired(awesomeOptions)) {\n            this.updateSelectedOptionsValue(awesomeOptions, updateFormControl);\n        }\n    }\n/**\n * @param {?} arrayValue\n * @param {?=} updateFormControl\n * @return {?}\n */\nprivate updateSelectedOptionsValue(arrayValue: any, updateFormControl = true) {\n        if (this.debug) {\n            console.log('updateSelectedOptionsValue', arrayValue, updateFormControl);\n        }\n        this.selectedOptionsValue = arrayValue;\n        this.typeHeadValue = '';\n        if (updateFormControl) {\n            const /** @type {?} */ options = AwesomeHelper.fromAwesomeOptions(arrayValue);\n            this.formControl.setValue(options);\n            this.onChange(options);\n        }\n    }\n/**\n * @param {?} $event\n * @return {?}\n */\nprivate toggleOptions($event) {\n        if (this.optionsDropOpen === true) {\n            this.closeOptions();\n        } else {\n            this.optionsFilterTerms.next(this.typeHeadValue);\n            this.openOptions();\n            this.focusIntoInputControl();\n        }\n    }\n/**\n * @return {?}\n */\nprivate toggleClassOnFocus() {\n        this.inputFocusedIn = !this.inputFocusedIn;\n    }\n/**\n * @return {?}\n */\nprivate openOptions() {\n        this.optionsDropOpen = true;\n        this.appendOptionsCompToBody();\n        this.bindEvents();\n    }\n/**\n * @return {?}\n */\nprivate closeOptions() {\n        this.removeOptionsComFromBody();\n        this.optionsDropOpen = false;\n        this.activeFocusPosition = undefined;\n        this.unBindEvents();\n    }\n/**\n * @return {?}\n */\nprivate bindEvents() {\n        window.addEventListener('scroll', this.onWindowScrollOrResizeDelegate, true);\n        window.addEventListener('resize', this.onWindowScrollOrResizeDelegate, true);\n        document.addEventListener('click', this.onBodyClickDelegate, true);\n    }\n/**\n * @return {?}\n */\nprivate unBindEvents() {\n        window.removeEventListener('scroll', this.onWindowScrollOrResizeDelegate, true);\n        window.removeEventListener('resize', this.onWindowScrollOrResizeDelegate, true);\n        document.removeEventListener('click', this.onBodyClickDelegate, true);\n    }\n/**\n * @return {?}\n */\nprivate appendOptionsCompToBody() {\n        const /** @type {?} */ factory = this.componentFactoryResolver.resolveComponentFactory(AwesomeOptionsComponent);\n        this.optionsComponentRef = this.viewContainerRef.createComponent(factory);\n        this.optionsComponentRef.changeDetectorRef.detectChanges();\n        this.optionsComponentRef.instance.options = this.optionsFiltered;\n        this.optionsComponentRef.instance.debug = this.debug;\n        // this.optionsComponentRef.instance.selectedOption = this.selectedOption;\n        this.optionsComponentRef.instance.mainElement = this.container;\n        this.optionsComponentRef.instance.onOptionSelected.subscribe(data => this.optionWasSelected(data));\n        document.querySelector('body')\n            .appendChild(this.optionsComponentRef.instance.optionsElement.nativeElement);\n        this.updateOptionsScreenLocation();\n    }\n/**\n * @return {?}\n */\nprivate removeOptionsComFromBody() {\n        if (this.optionsComponentRef) {\n            this.optionsComponentRef.destroy();\n        }\n    }\n/**\n * @return {?}\n */\nprivate updateOptionsScreenLocation() {\n        const /** @type {?} */ styles = AwesomeHelper.getStylesPosition(this.container.nativeElement, '.a-typehead-multiple');\n        this.optionsComponentRef.instance.style = styles;\n    }\n/**\n * @return {?}\n */\nprivate focusIntoInputControl() {\n        setTimeout(() => {\n            this.getInputControl().select();\n        }, 1);\n    }\n/**\n * @return {?}\n */\nprivate getInputControl() {\n        return this.container.nativeElement.querySelector('.typehead-input');\n    }\n/**\n * @return {?}\n */\nprivate getInputGroupButton() {\n        return this.container.nativeElement.querySelector('.input-group-addon');\n    }\n/**\n * @return {?}\n */\nprivate selectInputControlText() {\n        setTimeout(() => {\n            this.getInputControl().select();\n        }, 1);\n    }\n/**\n * @param {?} options\n * @return {?}\n */\nprivate isValueUpdateRequired(options: AwesomeOption[]) {\n        // TODO\n        return true;\n    }\n/**\n * @param {?} text\n * @param {?} options\n * @return {?}\n */\nprivate filterOptions(text: string, options: AwesomeOption[]): AwesomeOption[] {\n        if (this.debug) {\n            console.log('filterOptions begin', text, options);\n        }\n        let /** @type {?} */ filtered: AwesomeOption[] = [];\n        if (!text || text === '') {\n            // if there is no text supplied return unfiltered options\n            filtered = options;\n        } else if (false) {\n            // if selected option text is the same as searched text return unfiltered options\n            // return options;\n        } else {\n            // in all other conditions return filtered options\n            filtered = options.filter((option) => {\n                // filter by text contained in the option text\n                return option.text.toLowerCase().includes(text.toLowerCase());\n            });\n        }\n        // exclude selected options from filtered value\n        filtered = filtered.filter((filteredOption: AwesomeOption) => {\n            const /** @type {?} */ foundInSelected = (this.selectedOptionsValue || []).filter((selectedOption: AwesomeOption) => {\n                return filteredOption.compare(selectedOption);\n            });\n            return foundInSelected.length === 0;\n        });\n        if (this.debug) {\n            console.log('filterOptions end', filtered);\n        }\n        return filtered;\n    }\n/**\n * @param {?} position\n * @return {?}\n */\nprivate moveActiveFocus(position: number) {\n        if (this.debug) {\n            console.log('moveActiveFocus position', position);\n        }\n        let /** @type {?} */ newPos = this.activeFocusPosition;\n        if (newPos === undefined) {\n            newPos = 0;\n        } else {\n            newPos += position;\n        }\n        if (this.optionsFiltered.length < newPos + 1) {\n            newPos = 0;\n        } else if (newPos < 0) {\n            newPos = this.optionsFiltered.length - 1;\n        }\n        this.activeFocusPosition = newPos;\n        if (this.debug) {\n            console.log('moveActiveFocus newPos', newPos);\n        }\n    }\n/**\n * @return {?}\n */\nprivate matchInputWithOption() {\n        if (!this.typeHeadValue || this.typeHeadValue === '') {\n            return;\n        }\n        if (this.optionsFiltered && this.optionsFiltered.length === 1) {\n            this.optionWasSelected(this.optionsFiltered[0]);\n        } else {\n            // if the user has typed in different casing it will automatically match with an option\n            const /** @type {?} */ foundOption: AwesomeOption = this.optionsUnFiltered\n                .find((a: AwesomeOption) =>\n                    a.text.toLocaleLowerCase() === this.typeHeadValue.toLocaleLowerCase());\n            if (foundOption) {\n                this.optionWasSelected(foundOption);\n            }\n            this.typeHeadValue = '';\n        }\n    }\n    // #endregion Internal functionality\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n    selector: 'a-typehead-multiple',\n    providers: [{\n        provide: NG_VALUE_ACCESSOR,\n        useExisting: forwardRef(() => AwesomeTypeheadMultipleComponent),\n        multi: true\n    }],\n    template: `\n      <div class=\"input-group a-typehead-multiple\">\n          <div class=\"form-control typehead-container\"\n              [ngClass]=\"{'focus': inputFocusedIn}\">\n              <span class=\"badge badge-secondary option\"\n                  *ngFor=\"let option of selectedOptionsValue; let index=index\">\n                  <span class=\"option-text\">{{option.text}}</span>\n                  <span class=\"option-close\"\n                      (click)=\"onOptionRemove(option)\">\n                      <i class=\"ion-close-round\"></i>\n                  </span>\n              </span>\n              <input type=\"text\" class=\"form-control typehead-input\" autocomplete=\"off\"\n                  (blur)=\"onInputBlur($event)\"\n                  (focus)=\"onInputFocus($event)\"\n                  (keydown)=\"onInputKeyPressed($event)\"\n                  (ngModelChange)=\"onInputChange($event)\"\n                  [id]=\"id\"\n                  [(ngModel)]=\"typeHeadValue\"\n                  [disabled]=\"isDisabled\"\n                  [placeholder]=\"placeholder\" />\n          </div>\n          <span class=\"input-group-btn\">\n              <button type=\"button\" class=\"btn btn-secondary typehead-btn\" (click)=\"toggleOptions()\" [disabled]=\"isDisabled\">\n                  <i class=\"dropdown-toggle\"></i>\n              </button>\n          </span>\n      </div>\n      <div *ngIf=\"debug\">debug: {{selectedOptionsValue|json}}</div>\n    `,\n    styles: [`\n      .a-typehead-multiple .typehead-input {\n        border: none;\n        -webkit-box-shadow: none;\n                box-shadow: none;\n        min-width: 100px;\n        float: left; }\n\n      .a-typehead-multiple .typehead-container {\n        padding: 0;\n        display: block; }\n\n      .a-typehead-multiple .typehead-btn {\n        height: 100%; }\n\n      .a-typehead-multiple .option {\n        font-size: 1rem;\n        margin: 5px 0 0px 5px;\n        position: relative;\n        padding-right: 17px;\n        float: left; }\n        .a-typehead-multiple .option > .option-close {\n          position: absolute;\n          right: 5px;\n          top: 5px;\n          cursor: pointer;\n          font-size: 0.8rem; }\n    `]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ElementRef, },\n{type: ElementRef, },\n{type: ComponentFactoryResolver, },\n{type: ViewContainerRef, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'formControl': [{ type: Input },],\n'idField': [{ type: Input },],\n'textField': [{ type: Input },],\n'placeholder': [{ type: Input },],\n'id': [{ type: Input },],\n'debug': [{ type: Input },],\n'options': [{ type: Input },],\n'selectedOptions': [{ type: Input },],\n'optionsOpened': [{ type: Input },],\n'filterDelayMs': [{ type: Input },],\n'onHelperButtonClick': [{ type: Output },],\n'onOptionSelected': [{ type: Output },],\n};\n}\n\nfunction AwesomeTypeheadMultipleComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nAwesomeTypeheadMultipleComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nAwesomeTypeheadMultipleComponent.ctorParameters;\n/** @type {?} */\nAwesomeTypeheadMultipleComponent.propDecorators;\n/** @type {?} */\nAwesomeTypeheadMultipleComponent.prototype.formControl;\n/** @type {?} */\nAwesomeTypeheadMultipleComponent.prototype.idField;\n/** @type {?} */\nAwesomeTypeheadMultipleComponent.prototype.textField;\n/** @type {?} */\nAwesomeTypeheadMultipleComponent.prototype.placeholder;\n/** @type {?} */\nAwesomeTypeheadMultipleComponent.prototype.id;\n/** @type {?} */\nAwesomeTypeheadMultipleComponent.prototype.debug;\n/** @type {?} */\nAwesomeTypeheadMultipleComponent.prototype.filterDelayMs;\n/** @type {?} */\nAwesomeTypeheadMultipleComponent.prototype.onHelperButtonClick;\n/** @type {?} */\nAwesomeTypeheadMultipleComponent.prototype.onOptionSelected;\n/** @type {?} */\nAwesomeTypeheadMultipleComponent.prototype.isDisabled;\n/** @type {?} */\nAwesomeTypeheadMultipleComponent.prototype.optionsDropOpen;\n/** @type {?} */\nAwesomeTypeheadMultipleComponent.prototype.inputFocusedIn;\n/** @type {?} */\nAwesomeTypeheadMultipleComponent.prototype.optionsRaw;\n/** @type {?} */\nAwesomeTypeheadMultipleComponent.prototype.optionsUnFiltered;\n/** @type {?} */\nAwesomeTypeheadMultipleComponent.prototype.optionsFiltered;\n/** @type {?} */\nAwesomeTypeheadMultipleComponent.prototype.selectedOptionsValue;\n/** @type {?} */\nAwesomeTypeheadMultipleComponent.prototype.typeHeadValue;\n/** @type {?} */\nAwesomeTypeheadMultipleComponent.prototype.activeFocusPosition;\n/** @type {?} */\nAwesomeTypeheadMultipleComponent.prototype.optionsComponentRef;\n/** @type {?} */\nAwesomeTypeheadMultipleComponent.prototype.optionsFilterObservable;\n/** @type {?} */\nAwesomeTypeheadMultipleComponent.prototype.onWindowScrollOrResizeDelegate;\n/** @type {?} */\nAwesomeTypeheadMultipleComponent.prototype.onBodyClickDelegate;\n/** @type {?} */\nAwesomeTypeheadMultipleComponent.prototype.optionsFilterTerms;\n/** @type {?} */\nAwesomeTypeheadMultipleComponent.prototype.onChange;\n/** @type {?} */\nAwesomeTypeheadMultipleComponent.prototype.onTouched;\n/** @type {?} */\nAwesomeTypeheadMultipleComponent.prototype.container;\n/** @type {?} */\nAwesomeTypeheadMultipleComponent.prototype.optionsElement;\n/** @type {?} */\nAwesomeTypeheadMultipleComponent.prototype.componentFactoryResolver;\n/** @type {?} */\nAwesomeTypeheadMultipleComponent.prototype.viewContainerRef;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { Component, Input, OnInit, ElementRef, forwardRef, ComponentFactoryResolver,\n    ViewContainerRef, ComponentRef, OnDestroy, Output, EventEmitter } from '@angular/core';\nimport { FormControl, ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\n\nimport { Observable } from 'rxjs/Observable';\nimport { Subscription } from 'rxjs/Subscription';\nimport { Subject } from 'rxjs/Subject';\n\nimport { AwesomeOptionsComponent } from '../awesome-options/awesome-options.component';\nimport { AwesomeOption } from './../shared/awesome-option';\nimport { AwesomeHelper } from './../shared/awesome-helper';\n\nconst /** @type {?} */ noop = () => {};\nexport class AwesomeTypeheadComponent implements OnInit, OnDestroy, ControlValueAccessor {\npublic formControl: FormControl = new FormControl();\npublic idField = 'id';\npublic textField = 'text';\npublic id = Math.random();\npublic debug = false;\n/**\n * @param {?} options\n * @return {?}\n */\npublic set options(options: any[]) {\n        this.optionsRaw = options;\n        this.setOptions(options);\n    }\n/**\n * @param {?} option\n * @return {?}\n */\npublic set selectedOption(option: any) {\n        this.setSelectedOption(option);\n    }\n/**\n * @param {?} val\n * @return {?}\n */\npublic set optionsOpened(val: boolean) {\n        this._optionsOpened = val;\n    }\npublic filterOnBackend = false;\npublic filterDelayMs = 150;\npublic helperButton = 'test';\npublic onHelperButtonClick = new EventEmitter<any>();\npublic onOptionSelected = new EventEmitter<any>();\n/**\n * @return {?}\n */\npublic get selectedOption(): any {\n        return this._selectedOption;\n    }\n/**\n * @return {?}\n */\npublic get optionsOpened(): boolean {\n        return this._optionsOpened;\n    }\nprivate _selectedOption: AwesomeOption;\nprivate optionsRaw: any[] = [];\nprivate optionsUnFiltered: AwesomeOption[] = [];\nprivate optionsFiltered: AwesomeOption[] = [];\nprivate _optionsOpened = false;\nprivate typeHeadValue: string;\nprivate optionsComponentRef: ComponentRef<AwesomeOptionsComponent>;\nprivate optionsFilterTerms = new Subject<string>();\nprivate optionsFilterObservable: Observable<AwesomeOption[]>;\nprivate activeFocusPosition: number;\nprivate isDisabled = false;\nprivate onChange: (_: any) => void = noop;\nprivate onTouched: () => void = noop;\nprivate onWindowScrollOrResizeDelegate: any = this.onWindowScrollOrResize.bind(this);\nprivate onBodyClickDelegate: any = this.onBodyClick.bind(this);\n/**\n * @param {?} container\n * @param {?} optionsElement\n * @param {?} componentFactoryResolver\n * @param {?} viewContainerRef\n */\nconstructor(public container: ElementRef,\npublic optionsElement: ElementRef,\nprivate componentFactoryResolver: ComponentFactoryResolver,\nprivate viewContainerRef: ViewContainerRef) {}\n/**\n * @return {?}\n */\nngOnInit() {\n        if (this.filterOnBackend) {\n            // TODO develop filtering on backend\n            // it should execute the routine for requesting data\n            // and show the spinner while this is loading\n        } else {\n            // run the filter search with debounce time configured in the component\n            this.optionsFilterObservable = this.optionsFilterTerms\n                .debounceTime(this.filterDelayMs)\n                .distinctUntilChanged()\n                .switchMap(term => {\n                    return Observable.of(this.filterOptions(term, this.optionsUnFiltered));\n                });\n            // update filtered options\n            this.optionsFilterObservable.subscribe((data: AwesomeOption[]) => {\n                if (this.debug) {\n                    console.log('filtered', data, this.optionsFiltered, this.optionsUnFiltered);\n                }\n                this.optionsFiltered = data;\n                this.optionsComponentRef.instance.options = data;\n            });\n        }\n    }\n/**\n * @return {?}\n */\nngOnDestroy() {\n        this.removeOptionsComFromBody();\n    }\n/**\n * @param {?} val\n * @return {?}\n */\nwriteValue(val: any): void {\n        if (this.isValueUpdateRequired(val)) {\n            this.setSelectedOption(val, false);\n        }\n    }\n/**\n * @param {?} fn\n * @return {?}\n */\nregisterOnChange(fn: (_: any) => {}): void {\n        this.onChange = fn;\n    }\n/**\n * @param {?} fn\n * @return {?}\n */\nregisterOnTouched(fn: () => {}): void {\n        this.onTouched = fn;\n    }\n/**\n * @param {?} isDisabled\n * @return {?}\n */\nsetDisabledState(isDisabled: boolean): void {\n        this.isDisabled = isDisabled;\n    }\n/**\n * @return {?}\n */\ntoggleOptions() {\n        if (this._optionsOpened === true) {\n            this.closeOptions();\n        } else {\n            this.optionsFilterTerms.next(this.typeHeadValue);\n            this.openOptions();\n            this.focusIntoInputControl();\n        }\n    }\n/**\n * @return {?}\n */\nopenOptions() {\n        this._optionsOpened = true;\n        this.appendOptionsCompToBody();\n        this.bindEvents();\n    }\n/**\n * @return {?}\n */\ncloseOptions() {\n        this.removeOptionsComFromBody();\n        this._optionsOpened = false;\n        this.activeFocusPosition = undefined;\n        this.unBindEvents();\n    }\n/**\n * @return {?}\n */\nfocusIntoInputControl() {\n        setTimeout(() => {\n            this.getInputControl().select();\n        }, 1);\n    }\n/**\n * @return {?}\n */\nselectInputControlText() {\n        setTimeout(() => {\n            this.getInputControl().select();\n        }, 1);\n    }\n/**\n * @param {?} option\n * @return {?}\n */\noptionWasSelected(option: AwesomeOption) {\n        if (this.debug) {\n            console.log('onOptionSelected', option);\n        }\n        this.selectedOption = option;\n        this.closeOptions();\n        if (option) {\n            this.selectInputControlText();\n            this.onOptionSelected.emit(option.model);\n        }\n    }\n/**\n * @param {?} $event\n * @return {?}\n */\nonInputBlur($event) {\n        if (!this.selectedOption || (this.selectedOption.text !== this.typeHeadValue)) {\n            this.matchInputWithOption();\n        }\n        setTimeout(() => {\n            if (this.debug) {\n                console.log('onInputBlur');\n            }\n            // close the options if active focus is not inside the element\n            if ((document.activeElement !== this.getInputGroupButton()) && (document.activeElement !== this.getInputControl())) {\n                this.closeOptions();\n            }\n            this.onTouched();\n        }, 250);\n    }\n/**\n * @param {?} $event\n * @return {?}\n */\nonInputKeyPressed($event: KeyboardEvent) {\n        switch ($event.keyCode) {\n            // https://css-tricks.com/snippets/javascript/javascript-keycodes/\n            case 38: // up arrow\n            case 40: // down arrow\n                $event.preventDefault();\n                // open options dropdown if it was closed\n                if (!this.optionsOpened) {\n                    this.openOptions();\n                }\n                // move the active option line\n                if ($event.keyCode === 38) {\n                    this.moveActiveFocus(-1);\n                } else if ($event.keyCode === 40) {\n                    this.moveActiveFocus(+1);\n                }\n                this.optionsComponentRef.instance.activeFocusPosition = this.activeFocusPosition;\n                break;\n            case 27: // escape\n                $event.preventDefault();\n                // close options dropdown if it was open\n                if (this.optionsOpened) {\n                    this.closeOptions();\n                }\n                // revert the text back to the previous value\n                if (this.selectedOption) {\n                    if (this.selectedOption.text !== this.typeHeadValue) {\n                        this.typeHeadValue = this.selectedOption.text;\n                    }\n                } else {\n                    // reset the typehead text if there was no option selected before\n                    this.typeHeadValue = '';\n                }\n                // focus into typehead\n                this.focusIntoInputControl();\n                break;\n            case 13: // enter\n                $event.preventDefault();\n                if (this.activeFocusPosition !== undefined) {\n                    const /** @type {?} */ selectedOption = this.optionsFiltered[this.activeFocusPosition];\n                    this.setSelectedOption(selectedOption);\n                    this.activeFocusPosition = undefined;\n                    this.closeOptions();\n                    this.focusIntoInputControl();\n                } else {\n                    if (this.typeHeadValue === '') {\n                        this.setSelectedOption(null);\n                        this.closeOptions();\n                    } else {\n                        this.matchInputWithOption();\n                        this.closeOptions();\n                        this.focusIntoInputControl();\n                    }\n                }\n                break;\n        }\n    }\n/**\n * @param {?} $event\n * @return {?}\n */\nonOptionsMouseEntered($event) {\n    }\n/**\n * @param {?} $event\n * @return {?}\n */\nonInputGroupMouseEntered($event) {\n    }\n/**\n * @return {?}\n */\nonWindowScrollOrResize() {\n        this.updateOptionsScreenLocation();\n    }\n/**\n * @param {?} $event\n * @return {?}\n */\nonBodyClick($event) {\n        // find if the click has occured inside of the container or options elements\n        let /** @type {?} */ matchingElement = $event.path.indexOf(this.container.nativeElement);\n        if (matchingElement === -1) {\n            matchingElement = $event.path.indexOf(this.optionsComponentRef.instance.optionsElement.nativeElement);\n        }\n        // if the click was outside of either component elements ignore and prevent the event\n        // otherwise close the options\n        if (matchingElement !== -1) {\n            $event.preventDefault();\n            return;\n        } else {\n            this.closeOptions();\n        }\n    }\n/**\n * @param {?} $event\n * @return {?}\n */\nonInputChange($event) {\n        if (this.debug) {\n            console.log('onInputChange', $event);\n        }\n        // open options dropdown if it was closed\n        if (!this.optionsOpened) {\n            this.openOptions();\n        }\n        // insert term into routine call\n        this.optionsFilterTerms.next($event);\n    }\n/**\n * @return {?}\n */\nprivate appendOptionsCompToBody() {\n        const /** @type {?} */ factory = this.componentFactoryResolver.resolveComponentFactory(AwesomeOptionsComponent);\n        this.optionsComponentRef = this.viewContainerRef.createComponent(factory);\n        this.optionsComponentRef.changeDetectorRef.detectChanges();\n        this.optionsComponentRef.instance.options = this.optionsFiltered;\n        this.optionsComponentRef.instance.debug = this.debug;\n        this.optionsComponentRef.instance.selectedOption = this.selectedOption;\n        this.optionsComponentRef.instance.mainElement = this.container;\n        this.optionsComponentRef.instance.helperButton = this.helperButton;\n        this.optionsComponentRef.instance.onOptionSelected.subscribe(data => this.optionWasSelected(data));\n        this.optionsComponentRef.instance.onHelperButtonClick.subscribe(data => this.onHelperButtonClick.emit(data));\n        document.querySelector('body')\n            .appendChild(this.optionsComponentRef.instance.optionsElement.nativeElement);\n        this.updateOptionsScreenLocation();\n    }\n/**\n * @return {?}\n */\nprivate removeOptionsComFromBody() {\n        if (this.optionsComponentRef) {\n            this.optionsComponentRef.destroy();\n        }\n    }\n/**\n * @param {?} options\n * @return {?}\n */\nprivate setOptions(options: any[]) {\n        if (this.debug) {\n            console.log('setOptions', options);\n        }\n        if (!options) {\n            this.optionsUnFiltered = [];\n        } else {\n            const /** @type {?} */ awesomeOptions: AwesomeOption[] = AwesomeHelper\n                .toAwesomeOptions(options, this.textField, this.idField);\n            this.optionsUnFiltered = awesomeOptions;\n            this.optionsFiltered = awesomeOptions;\n        }\n    }\n/**\n * @param {?} option\n * @param {?=} updateFormControl\n * @return {?}\n */\nprivate setSelectedOption(option: any, updateFormControl = true) {\n        if (this.debug) {\n            console.log('setSelectedOption', option, updateFormControl);\n        }\n        if (!option) {\n            this.updateSelectedOptionValue(null, null, updateFormControl);\n            return;\n        }\n        // set either model or simple text to a formControl instance\n        if (option instanceof AwesomeOption) {\n            // update value only if it differes\n            // this prevents unnecessary events being triggered\n            if (this.isValueUpdateRequired(option)) {\n                this.updateSelectedOptionValue(option, option.text, updateFormControl);\n            }\n        } else {\n            if (typeof option === 'object') {\n                const /** @type {?} */ awesomeOption = new AwesomeOption(this.textField, this.idField, option);\n                this.updateSelectedOptionValue(awesomeOption, awesomeOption.text, updateFormControl);\n            } else {\n                const /** @type {?} */ awesomeOption = new AwesomeOption(null, null, null, option);\n                this.updateSelectedOptionValue(awesomeOption.text, awesomeOption.text, updateFormControl);\n            }\n        }\n    }\n/**\n * @param {?} objValue\n * @param {?} textValue\n * @param {?=} updateFormControl\n * @return {?}\n */\nprivate updateSelectedOptionValue(objValue: any, textValue: string, updateFormControl = true) {\n        if (this.debug) {\n            console.log('updateSelectedOptionValue', objValue, textValue, updateFormControl);\n        }\n        this._selectedOption = objValue;\n        this.typeHeadValue = textValue;\n        if (updateFormControl) {\n            if (objValue instanceof AwesomeOption) {\n                this.formControl.setValue(objValue.model);\n                this.onChange(objValue.model);\n            } else {\n                this.formControl.setValue(objValue);\n                this.onChange(objValue);\n            }\n        }\n    }\n/**\n * @return {?}\n */\nprivate matchInputWithOption() {\n        if (!this.typeHeadValue) {\n            this.selectedOption = null;\n            return;\n        }\n        if (this.optionsFiltered && this.optionsFiltered.length === 1) {\n            this.selectedOption = this.optionsFiltered[0];\n            this.typeHeadValue = this.optionsFiltered[0].text;\n            this.onOptionSelected.emit(this.selectedOption.model);\n        } else {\n            // if the user has typed in different casing it will automatically match with an option\n            const /** @type {?} */ foundOption: AwesomeOption = this.optionsUnFiltered\n                .find((a: AwesomeOption) =>\n                    a.text.toLocaleLowerCase() === this.typeHeadValue.toLocaleLowerCase());\n            if (foundOption) {\n                this.selectedOption = foundOption;\n                this.typeHeadValue = foundOption.text;\n                this.onOptionSelected.emit(foundOption.model);\n            } else {\n                // reset the value if the user hasn't selected anything\n                this.typeHeadValue = null;\n                this.selectedOption = null;\n            }\n        }\n    }\n/**\n * @return {?}\n */\nprivate updateOptionsScreenLocation() {\n        const /** @type {?} */ clientRect = this.container.nativeElement\n            .querySelector('.a-typehead')\n            .getBoundingClientRect();\n        const /** @type {?} */ width = clientRect.width;\n        const /** @type {?} */ height = clientRect.height;\n        const /** @type {?} */ leftOffset = clientRect.left;\n        const /** @type {?} */ topOffset = clientRect.top + height + window.pageYOffset;\n\n        this.optionsComponentRef.instance.style =\n            `position: absolute;\n            width: ${width}px;\n            left: ${leftOffset}px;\n            top: ${topOffset}px;\n            z-index: 10000`;\n    }\n/**\n * @return {?}\n */\nprivate getInputControl() {\n        return this.container.nativeElement.querySelector('.form-control');\n    }\n/**\n * @return {?}\n */\nprivate getInputGroupButton() {\n        return this.container.nativeElement.querySelector('.input-group-addon');\n    }\n/**\n * @return {?}\n */\nprivate bindEvents() {\n        window.addEventListener('scroll', this.onWindowScrollOrResizeDelegate, true);\n        window.addEventListener('resize', this.onWindowScrollOrResizeDelegate, true);\n        document.addEventListener('click', this.onBodyClickDelegate, true);\n    }\n/**\n * @return {?}\n */\nprivate unBindEvents() {\n        window.removeEventListener('scroll', this.onWindowScrollOrResizeDelegate, true);\n        window.removeEventListener('resize', this.onWindowScrollOrResizeDelegate, true);\n        document.removeEventListener('click', this.onBodyClickDelegate, true);\n    }\n/**\n * @param {?} option\n * @return {?}\n */\nprivate isValueUpdateRequired(option) {\n        return ((this._selectedOption && !this._selectedOption.compare(option))\n            || (!this._selectedOption && option));\n    }\n/**\n * @param {?} text\n * @param {?} options\n * @return {?}\n */\nprivate filterOptions(text: string, options: AwesomeOption[]): AwesomeOption[] {\n        if (this.debug) {\n            console.log('filterOptions', options);\n        }\n        if (!text || text === '') {\n            // if there is no text supplied return unfiltered options\n            return options;\n        } else if (this.selectedOption && ( /** @type {?} */((<AwesomeOption>this.selectedOption))).text.toLowerCase() === text.toLowerCase()) {\n            // if selected option text is the same as searched text return unfiltered options\n            return options;\n        } else {\n            // in all other conditions return filtered options\n            return options.filter((option) => {\n                // filter by text contained in the option text\n                return option.text.toLowerCase().includes(text.toLowerCase());\n            });\n        }\n    }\n/**\n * @param {?} position\n * @return {?}\n */\nprivate moveActiveFocus(position: number) {\n        if (this.debug) {\n            console.log('moveActiveFocus position', position);\n        }\n        let /** @type {?} */ newPos = this.activeFocusPosition;\n        if (newPos === undefined) {\n            newPos = 0;\n        } else {\n            newPos += position;\n        }\n        if (this.optionsFiltered.length < newPos + 1) {\n            newPos = 0;\n        } else if (newPos < 0) {\n            newPos = this.optionsFiltered.length - 1;\n        }\n        this.activeFocusPosition = newPos;\n        if (this.debug) {\n            console.log('moveActiveFocus newPos', newPos);\n        }\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n    selector: 'a-typehead',\n    providers: [{\n        provide: NG_VALUE_ACCESSOR,\n        useExisting: forwardRef(() => AwesomeTypeheadComponent),\n        multi: true\n    }],\n    template: `\n      <div class=\"input-group a-typehead\"\n          (mouseenter)=\"onInputGroupMouseEntered($event)\">\n          <input type=\"text\" class=\"form-control\" autocomplete=\"off\"\n              (blur)=\"onInputBlur($event)\"\n              (keydown)=\"onInputKeyPressed($event)\"\n              (ngModelChange)=\"onInputChange($event)\"\n              [id]=\"id\"\n              [(ngModel)]=\"typeHeadValue\"\n              [disabled]=\"isDisabled\" />\n          <input type=\"hidden\" [formControl]=\"formControl\" />\n          <span class=\"input-group-btn\">\n              <button type=\"button\" class=\"btn btn-secondary\" (click)=\"toggleOptions()\" [disabled]=\"isDisabled\">\n                  <i class=\"dropdown-toggle\"></i>\n              </button>\n          </span>\n      </div>\n      <div *ngIf=\"debug\">debug: {{_selectedOption|json}}</div>\n    `,\n    styles: [`\n\n    `]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ElementRef, },\n{type: ElementRef, },\n{type: ComponentFactoryResolver, },\n{type: ViewContainerRef, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'formControl': [{ type: Input },],\n'idField': [{ type: Input },],\n'textField': [{ type: Input },],\n'id': [{ type: Input },],\n'debug': [{ type: Input },],\n'options': [{ type: Input },],\n'selectedOption': [{ type: Input },],\n'optionsOpened': [{ type: Input },],\n'filterOnBackend': [{ type: Input },],\n'filterDelayMs': [{ type: Input },],\n'helperButton': [{ type: Input },],\n'onHelperButtonClick': [{ type: Output },],\n'onOptionSelected': [{ type: Output },],\n};\n}\n\nfunction AwesomeTypeheadComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nAwesomeTypeheadComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nAwesomeTypeheadComponent.ctorParameters;\n/** @type {?} */\nAwesomeTypeheadComponent.propDecorators;\n/** @type {?} */\nAwesomeTypeheadComponent.prototype.formControl;\n/** @type {?} */\nAwesomeTypeheadComponent.prototype.idField;\n/** @type {?} */\nAwesomeTypeheadComponent.prototype.textField;\n/** @type {?} */\nAwesomeTypeheadComponent.prototype.id;\n/** @type {?} */\nAwesomeTypeheadComponent.prototype.debug;\n/** @type {?} */\nAwesomeTypeheadComponent.prototype.filterOnBackend;\n/** @type {?} */\nAwesomeTypeheadComponent.prototype.filterDelayMs;\n/** @type {?} */\nAwesomeTypeheadComponent.prototype.helperButton;\n/** @type {?} */\nAwesomeTypeheadComponent.prototype.onHelperButtonClick;\n/** @type {?} */\nAwesomeTypeheadComponent.prototype.onOptionSelected;\n/** @type {?} */\nAwesomeTypeheadComponent.prototype._selectedOption;\n/** @type {?} */\nAwesomeTypeheadComponent.prototype.optionsRaw;\n/** @type {?} */\nAwesomeTypeheadComponent.prototype.optionsUnFiltered;\n/** @type {?} */\nAwesomeTypeheadComponent.prototype.optionsFiltered;\n/** @type {?} */\nAwesomeTypeheadComponent.prototype._optionsOpened;\n/** @type {?} */\nAwesomeTypeheadComponent.prototype.typeHeadValue;\n/** @type {?} */\nAwesomeTypeheadComponent.prototype.optionsComponentRef;\n/** @type {?} */\nAwesomeTypeheadComponent.prototype.optionsFilterTerms;\n/** @type {?} */\nAwesomeTypeheadComponent.prototype.optionsFilterObservable;\n/** @type {?} */\nAwesomeTypeheadComponent.prototype.activeFocusPosition;\n/** @type {?} */\nAwesomeTypeheadComponent.prototype.isDisabled;\n/** @type {?} */\nAwesomeTypeheadComponent.prototype.onChange;\n/** @type {?} */\nAwesomeTypeheadComponent.prototype.onTouched;\n/** @type {?} */\nAwesomeTypeheadComponent.prototype.onWindowScrollOrResizeDelegate;\n/** @type {?} */\nAwesomeTypeheadComponent.prototype.onBodyClickDelegate;\n/** @type {?} */\nAwesomeTypeheadComponent.prototype.container;\n/** @type {?} */\nAwesomeTypeheadComponent.prototype.optionsElement;\n/** @type {?} */\nAwesomeTypeheadComponent.prototype.componentFactoryResolver;\n/** @type {?} */\nAwesomeTypeheadComponent.prototype.viewContainerRef;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { AwesomeHelper } from './awesome-helper';\nexport class AwesomeOption {\n/**\n * @param {?=} textField\n * @param {?=} idField\n * @param {?=} model\n * @param {?=} simpleText\n */\nconstructor(private textField?: string,\nprivate idField?: string,\npublic model?: any,\nprivate simpleText?: string) {\n    }\n/**\n * @return {?}\n */\npublic get text(): string {\n        if (this.model && this.textField) {\n            return this.model[this.textField];\n        } else if (this.simpleText) {\n            return this.simpleText;\n        } else {\n            return null;\n        }\n    }\n/**\n * @return {?}\n */\npublic get id(): string {\n        if (this.model && this.idField) {\n            return this.model[this.idField];\n        } else {\n            return null;\n        }\n    }\n/**\n * @param {?} newValue\n * @return {?}\n */\npublic compare(newValue: any): boolean {\n        if (!newValue) {\n            return false;\n        }\n        const /** @type {?} */ curText = AwesomeHelper.stringToLowerSafely(this.text);\n        const /** @type {?} */ curId = this.id;\n        if (newValue instanceof AwesomeOption) {\n            const /** @type {?} */ newText = AwesomeHelper.stringToLowerSafely(newValue.text);\n            const /** @type {?} */ newId = newValue.id;\n            return curText === newText && curId === newId;\n        } else {\n            const /** @type {?} */ newText = AwesomeHelper.stringToLowerSafely(newValue[this.textField]);\n            const /** @type {?} */ newId = newValue[this.idField];\n            return curText === newText && this.id === newId;\n        }\n    }\n}\n\nfunction AwesomeOption_tsickle_Closure_declarations() {\n/** @type {?} */\nAwesomeOption.prototype.textField;\n/** @type {?} */\nAwesomeOption.prototype.idField;\n/** @type {?} */\nAwesomeOption.prototype.model;\n/** @type {?} */\nAwesomeOption.prototype.simpleText;\n}\n\n","import { AwesomeOption } from './awesome-option';\nexport class AwesomeHelper {\n/**\n * @param {?} options\n * @param {?} textField\n * @param {?} idField\n * @return {?}\n */\npublic static toAwesomeOptions(options: any[], textField: string, idField: string): AwesomeOption[] {\n        if (!options) {\n            return null;\n        }\n        const /** @type {?} */ awesomeOptions: AwesomeOption[] = [];\n        options.forEach((option) => {\n            awesomeOptions.push(new AwesomeOption(textField, idField, option));\n        });\n        return awesomeOptions;\n    }\n/**\n * @param {?} awesomeOptions\n * @return {?}\n */\npublic static fromAwesomeOptions(awesomeOptions: AwesomeOption[]): any[] {\n        if (!awesomeOptions) {\n            return null;\n        }\n        const /** @type {?} */ options: any[] = [];\n        awesomeOptions.forEach((option) => {\n            options.push(option.model);\n        });\n        return options;\n    }\n/**\n * @param {?} element\n * @param {?} query\n * @return {?}\n */\npublic static getStylesPosition(element: any, query: string) {\n        const /** @type {?} */ clientRect = element\n            .querySelector(query)\n            .getBoundingClientRect();\n        const /** @type {?} */ width = clientRect.width;\n        const /** @type {?} */ height = clientRect.height;\n        const /** @type {?} */ leftOffset = clientRect.left;\n        const /** @type {?} */ topOffset = clientRect.top + height + window.pageYOffset;\n\n        return `position: absolute;\n                width: ${width}px;\n                left: ${leftOffset}px;\n                top: ${topOffset}px;\n                z-index: 100000;`;\n    }\n/**\n * @param {?} text\n * @return {?}\n */\npublic static stringToLowerSafely(text: string) {\n        if (!text) {\n            return text;\n        } else {\n            return text.toLowerCase();\n        }\n    }\n}\n","import { Component, Input, Output, EventEmitter, OnInit, ElementRef } from '@angular/core';\n\nimport { AwesomeOption } from './../shared/awesome-option';\nexport class AwesomeOptionsComponent implements OnInit {\n/**\n * @param {?} val\n * @return {?}\n */\npublic set options(val: AwesomeOption[]) {\n        this._options = val;\n    }\npublic selectedOption: AwesomeOption;\npublic mainElement: ElementRef;\npublic debug = false;\n/**\n * @param {?} style\n * @return {?}\n */\npublic set style(style: string) {\n        this.optionsElement.nativeElement.setAttribute('style', style);\n    }\npublic activeFocusPosition: number;\npublic helperButton = 'test';\npublic onOptionSelected = new EventEmitter<AwesomeOption>();\npublic onMouseEnter = new EventEmitter<any>();\npublic onHelperButtonClick = new EventEmitter<any>();\n/**\n * @return {?}\n */\npublic get options(): AwesomeOption[] {\n        return this._options;\n    }\nprivate _options: AwesomeOption[];\n/**\n * @param {?} optionsElement\n */\nconstructor(public optionsElement: ElementRef) {}\n/**\n * @return {?}\n */\nngOnInit() {\n    }\n/**\n * @param {?} option\n * @return {?}\n */\nselectOption(option: AwesomeOption) {\n        this.onOptionSelected.emit(option);\n    }\n/**\n * @param {?} option\n * @return {?}\n */\nisOptionSelected(option: AwesomeOption): boolean {\n        if (!this.selectedOption) {\n            return false;\n        }\n        if (typeof option === 'object') {\n            return option.text === this.selectedOption.text;\n        } else {\n            return option === this.selectedOption;\n        }\n    }\n/**\n * @param {?} $event\n * @return {?}\n */\nonMouseEntered($event) {\n        this.onMouseEnter.emit($event);\n    }\n/**\n * @param {?} $event\n * @return {?}\n */\nonHelperButtonClickHandler($event: Event) {\n        this.onHelperButtonClick.emit($event);\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n    selector: 'a-options',\n    template: `\n      <div class=\"a-options\"\n          (mouseenter)=\"onMouseEntered($event)\" >\n          <ul class=\"dropdown-menu show\">\n              <li class=\"hidden\">\n                  <a href=\"javascript:void(0);\" class=\"dropdown-item\"\n                      *ngIf=\"helperButton\"\n                      (click)=\"onHelperButtonClickHandler($event)\">{{helperButton}}</a>\n              </li>\n              <li *ngFor=\"let option of options; let index=index\">\n                  <a href=\"javascript:void(0);\" class=\"dropdown-item\" (click)=\"selectOption(option)\"\n                      [ngClass]=\"{'active': isOptionSelected(option), 'hover': index === activeFocusPosition && !isOptionSelected(option)}\">\n                      {{option.text}}\n                  </a>\n              </li>\n              <li *ngIf=\"!options || options.length === 0\">\n                  <div class=\"text-center\">No matches</div>\n              </li>\n          </ul>\n      </div>\n    `,\n    styles: [`\n      .a-options > ul {\n        width: 100%; }\n\n      .a-options > ul > li > a {\n        padding-top: 0.5rem;\n        padding-bottom: 0.5rem; }\n        .a-options > ul > li > a.hover {\n          background-color: rgba(162, 162, 162, 0.1);\n          color: inherit; }\n    `]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ElementRef, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'options': [{ type: Input },],\n'selectedOption': [{ type: Input },],\n'mainElement': [{ type: Input },],\n'debug': [{ type: Input },],\n'style': [{ type: Input },],\n'activeFocusPosition': [{ type: Input },],\n'helperButton': [{ type: Input },],\n'onOptionSelected': [{ type: Output },],\n'onMouseEnter': [{ type: Output },],\n'onHelperButtonClick': [{ type: Output },],\n};\n}\n\nfunction AwesomeOptionsComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nAwesomeOptionsComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nAwesomeOptionsComponent.ctorParameters;\n/** @type {?} */\nAwesomeOptionsComponent.propDecorators;\n/** @type {?} */\nAwesomeOptionsComponent.prototype.selectedOption;\n/** @type {?} */\nAwesomeOptionsComponent.prototype.mainElement;\n/** @type {?} */\nAwesomeOptionsComponent.prototype.debug;\n/** @type {?} */\nAwesomeOptionsComponent.prototype.activeFocusPosition;\n/** @type {?} */\nAwesomeOptionsComponent.prototype.helperButton;\n/** @type {?} */\nAwesomeOptionsComponent.prototype.onOptionSelected;\n/** @type {?} */\nAwesomeOptionsComponent.prototype.onMouseEnter;\n/** @type {?} */\nAwesomeOptionsComponent.prototype.onHelperButtonClick;\n/** @type {?} */\nAwesomeOptionsComponent.prototype._options;\n/** @type {?} */\nAwesomeOptionsComponent.prototype.optionsElement;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"],"names":["Observable","noop","Subject"],"mappings":";;;;;;;;;;AMGA,MAAA,uBAAA,CAAA;;;;IAiCA,WAAA,CARuB,cAAgB,EAQvC;QARuB,IAAvB,CAAA,cAAuB,GAAA,cAAA,CAAgB;QAjB3B,IAAZ,CAAA,KAAY,GAAQ,KAAA,CAAM;QAKd,IAAZ,CAAA,YAAY,GAAe,MAAA,CAAO;QAEtB,IAAZ,CAAA,gBAAY,GAAmB,IAAI,YAAA,EAA2B,CAAG;QACrD,IAAZ,CAAA,YAAY,GAAe,IAAI,YAAA,EAAiB,CAAG;QACvC,IAAZ,CAAA,mBAAY,GAAsB,IAAI,YAAA,EAAiB,CAAG;KAQR;;;;;IApBlD,IAFM,OAAA,CAAA,GAAA,EAEN;QACQ,IAAI,CAFC,QAAC,GAAU,GAAA,CAAI;KAGvB;;;;;IAQL,IANM,KAAA,CAAA,KAAA,EAMN;QACQ,IAAI,CANC,cAAC,CAAc,aAAC,CAAa,YAAC,CAAY,OAAC,EAAQ,KAAA,CAAM,CAAC;KAOlE;;;;IASL,IAPK,OAAA,GAOL;QACQ,OAPO,IAAA,CAAK,QAAC,CAAQ;KAQxB;;;;IASL,QAVK,GAUL;KACK;;;;;IAKL,YAbK,CAAA,MAAA,EAaL;QACQ,IAAI,CAbC,gBAAC,CAAgB,IAAC,CAAI,MAAC,CAAM,CAAC;KActC;;;;;IAKL,gBAhBK,CAAA,MAAA,EAgBL;QACQ,IAAI,CAhBC,IAAC,CAAI,cAAC,EAAe;YAiBtB,OAhBO,KAAA,CAAM;SAiBhB;QACD,IAAI,OAhBO,MAAA,KAAW,QAAA,EAAU;YAiB5B,OAhBO,MAAA,CAAO,IAAC,KAAQ,IAAA,CAAK,cAAC,CAAc,IAAC,CAAI;SAiBnD;aAhBM;YAiBH,OAhBO,MAAA,KAAW,IAAA,CAAK,cAAC,CAAc;SAiBzC;KACJ;;;;;IAKL,cAnBK,CAAA,MAAA,EAmBL;QACQ,IAAI,CAnBC,YAAC,CAAY,IAAC,CAAI,MAAC,CAAM,CAAC;KAoBlC;;;;;IAKL,0BAtBK,CAAA,MAAA,EAsBL;QACQ,IAAI,CAtBC,mBAAC,CAAmB,IAAC,CAAI,MAAC,CAAM,CAAC;KAuBzC;;AArBE,uBAAP,CAAA,UAAO,GAAoC;IAuB3C,EAtBE,IAAA,EAAM,SAAA,EAAW,IAAA,EAAM,CAAA;gBAuBrB,QAAQ,EAtBE,WAAA;gBAuBV,QAAQ,EAtBE,CAsBd;;;;;;;;;;;;;;;;;;;;IAoBA,CAAK;gBACD,MAAM,EAtBE,CAAA,CAsBZ;;;;;;;;;;IAUA,CAAK,CAtBC;aAuBL,EAtBC,EAAG;CAuBJ,CAtBC;;;;AAED,uBAAD,CAAA,cAAC,GAAA,MAAA;IAyBD,EAAC,IAAI,EAAE,UAAU,GAAG;CACnB,CAAC;AAvBK,uBAAP,CAAA,cAAO,GAAyD;IAyBhE,SAAS,EAxBE,CAAA,EAAG,IAAA,EAAM,KAAA,EAAM,EAAE;IAyB5B,gBAAgB,EAxBE,CAAA,EAAG,IAAA,EAAM,KAAA,EAAM,EAAE;IAyBnC,aAAa,EAxBE,CAAA,EAAG,IAAA,EAAM,KAAA,EAAM,EAAE;IAyBhC,OAAO,EAxBE,CAAA,EAAG,IAAA,EAAM,KAAA,EAAM,EAAE;IAyB1B,OAAO,EAxBE,CAAA,EAAG,IAAA,EAAM,KAAA,EAAM,EAAE;IAyB1B,qBAAqB,EAxBE,CAAA,EAAG,IAAA,EAAM,KAAA,EAAM,EAAE;IAyBxC,cAAc,EAxBE,CAAA,EAAG,IAAA,EAAM,KAAA,EAAM,EAAE;IAyBjC,kBAAkB,EAxBE,CAAA,EAAG,IAAA,EAAM,MAAA,EAAO,EAAE;IAyBtC,cAAc,EAxBE,CAAA,EAAG,IAAA,EAAM,MAAA,EAAO,EAAE;IAyBlC,qBAAqB,EAxBE,CAAA,EAAG,IAAA,EAAM,MAAA,EAAO,EAAE;CAyBxC,CAxBC;;AD1GF,MAAA,aAAA,CAAA;;;;;;;IAEK,OAAA,gBAAA,CAAA,OAAA,EAAA,SAAA,EAAA,OAAA,EAAL;QAMQ,IAAI,CALC,OAAC,EAAQ;YAMV,OALO,IAAA,CAAK;SAMf;QACD,uBALM,cAAA,GAAkC,EAAA,CAAG;QAM3C,OAAO,CALC,OAAC,CAAO,CAAC,MAAC,KAK1B;YACY,cAAc,CALC,IAAC,CAAI,IAAI,aAAA,CAAc,SAAC,EAAU,OAAA,EAAS,MAAA,CAAO,CAAC,CAAC;SAMtE,CALC,CAAC;QAMH,OALO,cAAA,CAAe;KAMzB;;;;;IAHA,OAAA,kBAAA,CAAA,cAAA,EAAL;QASQ,IAAI,CARC,cAAC,EAAe;YASjB,OARO,IAAA,CAAK;SASf;QACD,uBARM,OAAA,GAAiB,EAAA,CAAG;QAS1B,cAAc,CARC,OAAC,CAAO,CAAC,MAAC,KAQjC;YACY,OAAO,CARC,IAAC,CAAI,MAAC,CAAM,KAAC,CAAK,CAAC;SAS9B,CARC,CAAC;QASH,OARO,OAAA,CAAQ;KASlB;;;;;;IANA,OAAA,iBAAA,CAAA,OAAA,EAAA,KAAA,EAAL;QAaQ,uBAZM,UAAA,GAAa,OAAA;aAad,aAZC,CAAa,KAAC,CAAK;aAapB,qBAZC,EAAqB,CAAE;QAa7B,uBAZM,KAAA,GAAQ,UAAA,CAAW,KAAC,CAAK;QAa/B,uBAZM,MAAA,GAAS,UAAA,CAAW,MAAC,CAAM;QAajC,uBAZM,UAAA,GAAa,UAAA,CAAW,IAAC,CAAI;QAanC,uBAZM,SAAA,GAAY,UAAA,CAAW,GAAC,GAAK,MAAA,GAAS,MAAA,CAAO,WAAC,CAAW;QAc/D,OAZO,CAYf;uBACA,EAAyB,KAZC,CAY1B;sBACA,EAAwB,UAZC,CAYzB;qBACA,EAAuB,SAZC,CAYxB;gCACA,CAAiC,CAZC;KAa7B;;;;;IAVA,OAAA,mBAAA,CAAA,IAAA,EAAL;QAgBQ,IAAI,CAfC,IAAC,EAAK;YAgBP,OAfO,IAAA,CAAK;SAgBf;aAfM;YAgBH,OAfO,IAAA,CAAK,WAAC,EAAW,CAAE;SAgB7B;KACJ;CACJ;;AD9DD,MAAA,aAAA,CAAA;;;;;;;IAOA,WAAA,CALwB,SAAY,EACpB,OAAU,EACX,KAAQ,EACP,UAAa,EAE7B;QALwB,IAAxB,CAAA,SAAwB,GAAA,SAAA,CAAY;QACpB,IAAhB,CAAA,OAAgB,GAAA,OAAA,CAAU;QACX,IAAf,CAAA,KAAe,GAAA,KAAA,CAAQ;QACP,IAAhB,CAAA,UAAgB,GAAA,UAAA,CAAa;KAMxB;;;;IAIL,IAPK,IAAA,GAOL;QACQ,IAAI,IAPC,CAAI,KAAC,IAAQ,IAAA,CAAK,SAAC,EAAU;YAQ9B,OAPO,IAAA,CAAK,KAAC,CAAK,IAAC,CAAI,SAAC,CAAS,CAAC;SAQrC;aAPM,IAAA,IAAK,CAAI,UAAC,EAAW;YAQxB,OAPO,IAAA,CAAK,UAAC,CAAU;SAQ1B;aAPM;YAQH,OAPO,IAAA,CAAK;SAQf;KACJ;;;;IAIL,IAVK,EAAA,GAUL;QACQ,IAAI,IAVC,CAAI,KAAC,IAAQ,IAAA,CAAK,OAAC,EAAQ;YAW5B,OAVO,IAAA,CAAK,KAAC,CAAK,IAAC,CAAI,OAAC,CAAO,CAAC;SAWnC;aAVM;YAWH,OAVO,IAAA,CAAK;SAWf;KACJ;;;;;IATA,OAAA,CAAA,QAAA,EAAL;QAeQ,IAAI,CAdC,QAAC,EAAS;YAeX,OAdO,KAAA,CAAM;SAehB;QACD,uBAdM,OAAA,GAAU,aAAA,CAAc,mBAAC,CAAmB,IAAC,CAAI,IAAC,CAAI,CAAC;QAe7D,uBAdM,KAAA,GAAQ,IAAA,CAAK,EAAC,CAAE;QAetB,IAAI,QAdC,YAAmB,aAAA,EAAe;YAenC,uBAdM,OAAA,GAAU,aAAA,CAAc,mBAAC,CAAmB,QAAC,CAAQ,IAAC,CAAI,CAAC;YAejE,uBAdM,KAAA,GAAQ,QAAA,CAAS,EAAC,CAAE;YAe1B,OAdO,OAAA,KAAY,OAAA,IAAW,KAAA,KAAU,KAAA,CAAM;SAejD;aAdM;YAeH,uBAdM,OAAA,GAAU,aAAA,CAAc,mBAAC,CAAmB,QAAC,CAAQ,IAAC,CAAI,SAAC,CAAS,CAAC,CAAC;YAe5E,uBAdM,KAAA,GAAQ,QAAA,CAAS,IAAC,CAAI,OAAC,CAAO,CAAC;YAerC,OAdO,OAAA,KAAY,OAAA,IAAW,IAAA,CAAK,EAAC,KAAM,KAAA,CAAM;SAenD;KACJ;CACJ;;AD3CD,MAAM,IAAA,GAAO,MAAb,GAAmB,CAAG;AACtB,AAAA,MAAA,wBAAA,CAAA;;;;;;;IAkEA,WAAA,CAfuB,SAAW,EACnB,cAAgB,EACf,wBAA0B,EAC1B,gBAAkB,EAYlC;QAfuB,IAAvB,CAAA,SAAuB,GAAA,SAAA,CAAW;QACnB,IAAf,CAAA,cAAe,GAAA,cAAA,CAAgB;QACf,IAAhB,CAAA,wBAAgB,GAAA,wBAAA,CAA0B;QAC1B,IAAhB,CAAA,gBAAgB,GAAA,gBAAA,CAAkB;QAlDtB,IAAZ,CAAA,WAAY,GAA2B,IAAI,WAAA,EAAY,CAAE;QAC7C,IAAZ,CAAA,OAAY,GAAU,IAAA,CAAK;QACf,IAAZ,CAAA,SAAY,GAAY,MAAA,CAAO;QACnB,IAAZ,CAAA,EAAY,GAAK,IAAA,CAAK,MAAC,EAAM,CAAE;QACnB,IAAZ,CAAA,KAAY,GAAQ,KAAA,CAAM;QAWd,IAAZ,CAAA,eAAY,GAAkB,KAAA,CAAM;QACxB,IAAZ,CAAA,aAAY,GAAgB,GAAA,CAAI;QACpB,IAAZ,CAAA,YAAY,GAAe,MAAA,CAAO;QAEtB,IAAZ,CAAA,mBAAY,GAAsB,IAAI,YAAA,EAAiB,CAAG;QAC9C,IAAZ,CAAA,gBAAY,GAAmB,IAAI,YAAA,EAAiB,CAAG;QAU3C,IAAZ,CAAA,UAAY,GAAoB,EAAA,CAAG;QACvB,IAAZ,CAAA,iBAAY,GAAqC,EAAA,CAAG;QACxC,IAAZ,CAAA,eAAY,GAAmC,EAAA,CAAG;QACtC,IAAZ,CAAA,cAAY,GAAiB,KAAA,CAAM;QAGvB,IAAZ,CAAA,kBAAY,GAAqB,IAAIE,SAAA,EAAe,CAAG;QAG3C,IAAZ,CAAA,UAAY,GAAa,KAAA,CAAM;QAEnB,IAAZ,CAAA,QAAY,GAA6B,IAAA,CAAK;QAClC,IAAZ,CAAA,SAAY,GAAwB,IAAA,CAAK;QAE7B,IAAZ,CAAA,8BAAY,GAAsC,IAAA,CAAK,sBAAC,CAAsB,IAAC,CAAI,IAAC,CAAI,CAAC;QAC7E,IAAZ,CAAA,mBAAY,GAA2B,IAAA,CAAK,WAAC,CAAW,IAAC,CAAI,IAAC,CAAI,CAAC;KAKhB;;;;;IA5CnD,IADM,OAAA,CAAA,OAAA,EACN;QACQ,IAAI,CADC,UAAC,GAAY,OAAA,CAAQ;QAE1B,IAAI,CADC,UAAC,CAAU,OAAC,CAAO,CAAC;KAE5B;;;;;IAKL,IALM,cAAA,CAAA,MAAA,EAKN;QACQ,IAAI,CALC,iBAAC,CAAiB,MAAC,CAAM,CAAC;KAMlC;;;;;IAKL,IATM,aAAA,CAAA,GAAA,EASN;QACQ,IAAI,CATC,cAAC,GAAgB,GAAA,CAAI;KAU7B;;;;IASL,IAVK,cAAA,GAUL;QACQ,OAVO,IAAA,CAAK,eAAC,CAAe;KAW/B;;;;IAIL,IAbK,aAAA,GAaL;QACQ,OAbO,IAAA,CAAK,cAAC,CAAc;KAc9B;;;;IA6BL,QAjBK,GAiBL;QACQ,IAAI,IAjBC,CAAI,eAAC,EAAgB;;;;SAqBzB;aAjBM;;YAmBH,IAAI,CAjBC,uBAAC,GAAyB,IAAA,CAAK,kBAAC;iBAkBhC,YAjBC,CAAY,IAAC,CAAI,aAAC,CAAa;iBAkBhC,oBAjBC,EAAoB;iBAkBrB,SAjBC,CAAS,IAAC,IAiB5B;gBACoB,OAjBOF,YAAA,CAAW,EAAC,CAAE,IAAC,CAAI,aAAC,CAAa,IAAC,EAAK,IAAA,CAAK,iBAAC,CAAiB,CAAC,CAAC;aAkB1E,CAjBC,CAAC;;YAmBP,IAAI,CAjBC,uBAAC,CAAuB,SAAC,CAAS,CAAC,IAAoB,KAiBxE;gBACgB,IAAI,IAjBC,CAAI,KAAC,EAAM;oBAkBZ,OAAO,CAjBC,GAAC,CAAG,UAAC,EAAW,IAAA,EAAM,IAAA,CAAK,eAAC,EAAgB,IAAA,CAAK,iBAAC,CAAiB,CAAC;iBAkB/E;gBACD,IAAI,CAjBC,eAAC,GAAiB,IAAA,CAAK;gBAkB5B,IAAI,CAjBC,mBAAC,CAAmB,QAAC,CAAQ,OAAC,GAAS,IAAA,CAAK;aAkBpD,CAjBC,CAAC;SAkBN;KACJ;;;;IAIL,WApBK,GAoBL;QACQ,IAAI,CApBC,wBAAC,EAAwB,CAAE;KAqBnC;;;;;IAKL,UArBK,CAAA,GAAA,EAqBL;QACQ,IAAI,IArBC,CAAI,qBAAC,CAAqB,GAAC,CAAG,EAAE;YAsBjC,IAAI,CArBC,iBAAC,CAAiB,GAAC,EAAI,KAAA,CAAM,CAAC;SAsBtC;KACJ;;;;;IAKL,gBAzBK,CAAA,EAAA,EAyBL;QACQ,IAAI,CAzBC,QAAC,GAAU,EAAA,CAAG;KA0BtB;;;;;IAKL,iBA7BK,CAAA,EAAA,EA6BL;QACQ,IAAI,CA7BC,SAAC,GAAW,EAAA,CAAG;KA8BvB;;;;;IAKL,gBAjCK,CAAA,UAAA,EAiCL;QACQ,IAAI,CAjCC,UAAC,GAAY,UAAA,CAAW;KAkChC;;;;IAIL,aAlCK,GAkCL;QACQ,IAAI,IAlCC,CAAI,cAAC,KAAkB,IAAA,EAAM;YAmC9B,IAAI,CAlCC,YAAC,EAAY,CAAE;SAmCvB;aAlCM;YAmCH,IAAI,CAlCC,kBAAC,CAAkB,IAAC,CAAI,IAAC,CAAI,aAAC,CAAa,CAAC;YAmCjD,IAAI,CAlCC,WAAC,EAAW,CAAE;YAmCnB,IAAI,CAlCC,qBAAC,EAAqB,CAAE;SAmChC;KACJ;;;;IAIL,WApCK,GAoCL;QACQ,IAAI,CApCC,cAAC,GAAgB,IAAA,CAAK;QAqC3B,IAAI,CApCC,uBAAC,EAAuB,CAAE;QAqC/B,IAAI,CApCC,UAAC,EAAU,CAAE;KAqCrB;;;;IAIL,YAtCK,GAsCL;QACQ,IAAI,CAtCC,wBAAC,EAAwB,CAAE;QAuChC,IAAI,CAtCC,cAAC,GAAgB,KAAA,CAAM;QAuC5B,IAAI,CAtCC,mBAAC,GAAqB,SAAA,CAAU;QAuCrC,IAAI,CAtCC,YAAC,EAAY,CAAE;KAuCvB;;;;IAIL,qBAxCK,GAwCL;QACQ,UAAU,CAxCC,MAwCnB;YACY,IAAI,CAxCC,eAAC,EAAe,CAAE,MAAC,EAAM,CAAE;SAyCnC,EAxCE,CAAA,CAAE,CAAC;KAyCT;;;;IAIL,sBA1CK,GA0CL;QACQ,UAAU,CA1CC,MA0CnB;YACY,IAAI,CA1CC,eAAC,EAAe,CAAE,MAAC,EAAM,CAAE;SA2CnC,EA1CE,CAAA,CAAE,CAAC;KA2CT;;;;;IAKL,iBA5CK,CAAA,MAAA,EA4CL;QACQ,IAAI,IA5CC,CAAI,KAAC,EAAM;YA6CZ,OAAO,CA5CC,GAAC,CAAG,kBAAC,EAAmB,MAAA,CAAO,CAAC;SA6C3C;QACD,IAAI,CA5CC,cAAC,GAAgB,MAAA,CAAO;QA6C7B,IAAI,CA5CC,YAAC,EAAY,CAAE;QA6CpB,IAAI,MA5CC,EAAO;YA6CR,IAAI,CA5CC,sBAAC,EAAsB,CAAE;YA6C9B,IAAI,CA5CC,gBAAC,CAAgB,IAAC,CAAI,MAAC,CAAM,KAAC,CAAK,CAAC;SA6C5C;KACJ;;;;;IAKL,WA/CK,CAAA,MAAA,EA+CL;QACQ,IAAI,CA/CC,IAAC,CAAI,cAAC,KAAiB,IAAE,CAAI,cAAC,CAAc,IAAC,KAAQ,IAAA,CAAK,aAAC,CAAa,EAAE;YAgD3E,IAAI,CA/CC,oBAAC,EAAoB,CAAE;SAgD/B;QACD,UAAU,CA/CC,MA+CnB;YACY,IAAI,IA/CC,CAAI,KAAC,EAAM;gBAgDZ,OAAO,CA/CC,GAAC,CAAG,aAAC,CAAa,CAAC;aAgD9B;;YAED,IAAI,CA/CC,QAAC,CAAQ,aAAC,KAAiB,IAAA,CAAK,mBAAC,EAAmB,MAAM,QAAE,CAAQ,aAAC,KAAiB,IAAA,CAAK,eAAC,EAAe,CAAE,EAAE;gBAgDhH,IAAI,CA/CC,YAAC,EAAY,CAAE;aAgDvB;YACD,IAAI,CA/CC,SAAC,EAAS,CAAE;SAgDpB,EA/CE,GAAA,CAAI,CAAC;KAgDX;;;;;IAKL,iBAlDK,CAAA,MAAA,EAkDL;QACQ,QAAQ,MAlDC,CAAM,OAAC;;YAoDZ,KAlDK,EAAA,CAAG;YAmDR,KAlDK,EAAA;gBAmDD,MAAM,CAlDC,cAAC,EAAc,CAAE;;gBAoDxB,IAAI,CAlDC,IAAC,CAAI,aAAC,EAAc;oBAmDrB,IAAI,CAlDC,WAAC,EAAW,CAAE;iBAmDtB;;gBAED,IAAI,MAlDC,CAAM,OAAC,KAAW,EAAA,EAAI;oBAmDvB,IAAI,CAlDC,eAAC,CAAe,CAAC,CAAC,CAAC,CAAC;iBAmD5B;qBAlDM,IAAA,MAAK,CAAM,OAAC,KAAW,EAAA,EAAI;oBAmD9B,IAAI,CAlDC,eAAC,CAAe,CAAC,CAAC,CAAC,CAAC;iBAmD5B;gBACD,IAAI,CAlDC,mBAAC,CAAmB,QAAC,CAAQ,mBAAC,GAAqB,IAAA,CAAK,mBAAC,CAAmB;gBAmDjF,MAAM;YACV,KAlDK,EAAA;gBAmDD,MAAM,CAlDC,cAAC,EAAc,CAAE;;gBAoDxB,IAAI,IAlDC,CAAI,aAAC,EAAc;oBAmDpB,IAAI,CAlDC,YAAC,EAAY,CAAE;iBAmDvB;;gBAED,IAAI,IAlDC,CAAI,cAAC,EAAe;oBAmDrB,IAAI,IAlDC,CAAI,cAAC,CAAc,IAAC,KAAQ,IAAA,CAAK,aAAC,EAAc;wBAmDjD,IAAI,CAlDC,aAAC,GAAe,IAAA,CAAK,cAAC,CAAc,IAAC,CAAI;qBAmDjD;iBACJ;qBAlDM;;oBAoDH,IAAI,CAlDC,aAAC,GAAe,EAAA,CAAG;iBAmD3B;;gBAED,IAAI,CAlDC,qBAAC,EAAqB,CAAE;gBAmD7B,MAAM;YACV,KAlDK,EAAA;gBAmDD,MAAM,CAlDC,cAAC,EAAc,CAAE;gBAmDxB,IAAI,IAlDC,CAAI,mBAAC,KAAuB,SAAA,EAAW;oBAmDxC,uBAlDM,cAAA,GAAiB,IAAA,CAAK,eAAC,CAAe,IAAC,CAAI,mBAAC,CAAmB,CAAC;oBAmDtE,IAAI,CAlDC,iBAAC,CAAiB,cAAC,CAAc,CAAC;oBAmDvC,IAAI,CAlDC,mBAAC,GAAqB,SAAA,CAAU;oBAmDrC,IAAI,CAlDC,YAAC,EAAY,CAAE;oBAmDpB,IAAI,CAlDC,qBAAC,EAAqB,CAAE;iBAmDhC;qBAlDM;oBAmDH,IAAI,IAlDC,CAAI,aAAC,KAAiB,EAAA,EAAI;wBAmD3B,IAAI,CAlDC,iBAAC,CAAiB,IAAC,CAAI,CAAC;wBAmD7B,IAAI,CAlDC,YAAC,EAAY,CAAE;qBAmDvB;yBAlDM;wBAmDH,IAAI,CAlDC,oBAAC,EAAoB,CAAE;wBAmD5B,IAAI,CAlDC,YAAC,EAAY,CAAE;wBAmDpB,IAAI,CAlDC,qBAAC,EAAqB,CAAE;qBAmDhC;iBACJ;gBACD,MAAM;SACb;KACJ;;;;;IAKL,qBArDK,CAAA,MAAA,EAqDL;KACK;;;;;IAKL,wBAxDK,CAAA,MAAA,EAwDL;KACK;;;;IAIL,sBA1DK,GA0DL;QACQ,IAAI,CA1DC,2BAAC,EAA2B,CAAE;KA2DtC;;;;;IAKL,WA7DK,CAAA,MAAA,EA6DL;;QAEQ,qBA7DI,eAAA,GAAkB,MAAA,CAAO,IAAC,CAAI,OAAC,CAAO,IAAC,CAAI,SAAC,CAAS,aAAC,CAAa,CAAC;QA8DxE,IAAI,eA7DC,KAAmB,CAAA,CAAE,EAAE;YA8DxB,eAAe,GA7DG,MAAA,CAAO,IAAC,CAAI,OAAC,CAAO,IAAC,CAAI,mBAAC,CAAmB,QAAC,CAAQ,cAAC,CAAc,aAAC,CAAa,CAAC;SA8DzG;;;QAGD,IAAI,eA7DC,KAAmB,CAAA,CAAE,EAAE;YA8DxB,MAAM,CA7DC,cAAC,EAAc,CAAE;YA8DxB,OAAO;SACV;aA7DM;YA8DH,IAAI,CA7DC,YAAC,EAAY,CAAE;SA8DvB;KACJ;;;;;IAKL,aAhEK,CAAA,MAAA,EAgEL;QACQ,IAAI,IAhEC,CAAI,KAAC,EAAM;YAiEZ,OAAO,CAhEC,GAAC,CAAG,eAAC,EAAgB,MAAA,CAAO,CAAC;SAiExC;;QAED,IAAI,CAhEC,IAAC,CAAI,aAAC,EAAc;YAiErB,IAAI,CAhEC,WAAC,EAAW,CAAE;SAiEtB;;QAED,IAAI,CAhEC,kBAAC,CAAkB,IAAC,CAAI,MAAC,CAAM,CAAC;KAiExC;;;;IA7DA,uBAAA,GAAL;QAkEQ,uBAjEM,OAAA,GAAU,IAAA,CAAK,wBAAC,CAAwB,uBAAC,CAAuB,uBAAC,CAAuB,CAAC;QAkE/F,IAAI,CAjEC,mBAAC,GAAqB,IAAA,CAAK,gBAAC,CAAgB,eAAC,CAAe,OAAC,CAAO,CAAC;QAkE1E,IAAI,CAjEC,mBAAC,CAAmB,iBAAC,CAAiB,aAAC,EAAa,CAAE;QAkE3D,IAAI,CAjEC,mBAAC,CAAmB,QAAC,CAAQ,OAAC,GAAS,IAAA,CAAK,eAAC,CAAe;QAkEjE,IAAI,CAjEC,mBAAC,CAAmB,QAAC,CAAQ,KAAC,GAAO,IAAA,CAAK,KAAC,CAAK;QAkErD,IAAI,CAjEC,mBAAC,CAAmB,QAAC,CAAQ,cAAC,GAAgB,IAAA,CAAK,cAAC,CAAc;QAkEvE,IAAI,CAjEC,mBAAC,CAAmB,QAAC,CAAQ,WAAC,GAAa,IAAA,CAAK,SAAC,CAAS;QAkE/D,IAAI,CAjEC,mBAAC,CAAmB,QAAC,CAAQ,YAAC,GAAc,IAAA,CAAK,YAAC,CAAY;QAkEnE,IAAI,CAjEC,mBAAC,CAAmB,QAAC,CAAQ,gBAAC,CAAgB,SAAC,CAAS,IAAC,IAAO,IAAA,CAAK,iBAAC,CAAiB,IAAC,CAAI,CAAC,CAAC;QAkEnG,IAAI,CAjEC,mBAAC,CAAmB,QAAC,CAAQ,mBAAC,CAAmB,SAAC,CAAS,IAAC,IAAO,IAAA,CAAK,mBAAC,CAAmB,IAAC,CAAI,IAAC,CAAI,CAAC,CAAC;QAkE7G,QAAQ,CAjEC,aAAC,CAAa,MAAC,CAAM;aAkEzB,WAjEC,CAAW,IAAC,CAAI,mBAAC,CAAmB,QAAC,CAAQ,cAAC,CAAc,aAAC,CAAa,CAAC;QAkEjF,IAAI,CAjEC,2BAAC,EAA2B,CAAE;KAkEtC;;;;IA/DA,wBAAA,GAAL;QAoEQ,IAAI,IAnEC,CAAI,mBAAC,EAAoB;YAoE1B,IAAI,CAnEC,mBAAC,CAAmB,OAAC,EAAO,CAAE;SAoEtC;KACJ;;;;;IAjEA,UAAA,CAAA,OAAA,EAAL;QAuEQ,IAAI,IAtEC,CAAI,KAAC,EAAM;YAuEZ,OAAO,CAtEC,GAAC,CAAG,YAAC,EAAa,OAAA,CAAQ,CAAC;SAuEtC;QACD,IAAI,CAtEC,OAAC,EAAQ;YAuEV,IAAI,CAtEC,iBAAC,GAAmB,EAAA,CAAG;SAuE/B;aAtEM;YAuEH,uBAtEM,cAAA,GAAkC,aAAA;iBAuEnC,gBAtEC,CAAgB,OAAC,EAAQ,IAAA,CAAK,SAAC,EAAU,IAAA,CAAK,OAAC,CAAO,CAAC;YAuE7D,IAAI,CAtEC,iBAAC,GAAmB,cAAA,CAAe;YAuExC,IAAI,CAtEC,eAAC,GAAiB,cAAA,CAAe;SAuEzC;KACJ;;;;;;IApEA,iBAAA,CAAA,MAAA,EAAA,iBAAA,GAAA,IAAA,EAAL;QA2EQ,IAAI,IA1EC,CAAI,KAAC,EAAM;YA2EZ,OAAO,CA1EC,GAAC,CAAG,mBAAC,EAAoB,MAAA,EAAQ,iBAAA,CAAkB,CAAC;SA2E/D;QACD,IAAI,CA1EC,MAAC,EAAO;YA2ET,IAAI,CA1EC,yBAAC,CAAyB,IAAC,EAAK,IAAA,EAAM,iBAAA,CAAkB,CAAC;YA2E9D,OAAO;SACV;;QAED,IAAI,MA1EC,YAAiB,aAAA,EAAe;;;YA6EjC,IAAI,IA1EC,CAAI,qBAAC,CAAqB,MAAC,CAAM,EAAE;gBA2EpC,IAAI,CA1EC,yBAAC,CAAyB,MAAC,EAAO,MAAA,CAAO,IAAC,EAAK,iBAAA,CAAkB,CAAC;aA2E1E;SACJ;aA1EM;YA2EH,IAAI,OA1EO,MAAA,KAAW,QAAA,EAAU;gBA2E5B,uBA1EM,aAAA,GAAgB,IAAI,aAAA,CAAc,IAAC,CAAI,SAAC,EAAU,IAAA,CAAK,OAAC,EAAQ,MAAA,CAAO,CAAC;gBA2E9E,IAAI,CA1EC,yBAAC,CAAyB,aAAC,EAAc,aAAA,CAAc,IAAC,EAAK,iBAAA,CAAkB,CAAC;aA2ExF;iBA1EM;gBA2EH,uBA1EM,aAAA,GAAgB,IAAI,aAAA,CAAc,IAAC,EAAK,IAAA,EAAM,IAAA,EAAM,MAAA,CAAO,CAAC;gBA2ElE,IAAI,CA1EC,yBAAC,CAAyB,aAAC,CAAa,IAAC,EAAK,aAAA,CAAc,IAAC,EAAK,iBAAA,CAAkB,CAAC;aA2E7F;SACJ;KACJ;;;;;;;IAxEA,yBAAA,CAAA,QAAA,EAAA,SAAA,EAAA,iBAAA,GAAA,IAAA,EAAL;QAgFQ,IAAI,IA/EC,CAAI,KAAC,EAAM;YAgFZ,OAAO,CA/EC,GAAC,CAAG,2BAAC,EAA4B,QAAA,EAAU,SAAA,EAAW,iBAAA,CAAkB,CAAC;SAgFpF;QACD,IAAI,CA/EC,eAAC,GAAiB,QAAA,CAAS;QAgFhC,IAAI,CA/EC,aAAC,GAAe,SAAA,CAAU;QAgF/B,IAAI,iBA/EC,EAAkB;YAgFnB,IAAI,QA/EC,YAAmB,aAAA,EAAe;gBAgFnC,IAAI,CA/EC,WAAC,CAAW,QAAC,CAAQ,QAAC,CAAQ,KAAC,CAAK,CAAC;gBAgF1C,IAAI,CA/EC,QAAC,CAAQ,QAAC,CAAQ,KAAC,CAAK,CAAC;aAgFjC;iBA/EM;gBAgFH,IAAI,CA/EC,WAAC,CAAW,QAAC,CAAQ,QAAC,CAAQ,CAAC;gBAgFpC,IAAI,CA/EC,QAAC,CAAQ,QAAC,CAAQ,CAAC;aAgF3B;SACJ;KACJ;;;;IA7EA,oBAAA,GAAL;QAkFQ,IAAI,CAjFC,IAAC,CAAI,aAAC,EAAc;YAkFrB,IAAI,CAjFC,cAAC,GAAgB,IAAA,CAAK;YAkF3B,OAAO;SACV;QACD,IAAI,IAjFC,CAAI,eAAC,IAAkB,IAAA,CAAK,eAAC,CAAe,MAAC,KAAU,CAAA,EAAG;YAkF3D,IAAI,CAjFC,cAAC,GAAgB,IAAA,CAAK,eAAC,CAAe,CAAC,CAAC,CAAC;YAkF9C,IAAI,CAjFC,aAAC,GAAe,IAAA,CAAK,eAAC,CAAe,CAAC,CAAC,CAAC,IAAC,CAAI;YAkFlD,IAAI,CAjFC,gBAAC,CAAgB,IAAC,CAAI,IAAC,CAAI,cAAC,CAAc,KAAC,CAAK,CAAC;SAkFzD;aAjFM;;YAmFH,uBAjFM,WAAA,GAA6B,IAAA,CAAK,iBAAC;iBAkFpC,IAjFC,CAAI,CAAC,CAAG,KAkFN,CAAC,CAjFC,IAAC,CAAI,iBAAC,EAAiB,KAAM,IAAA,CAAK,aAAC,CAAa,iBAAC,EAAiB,CAAE,CAAC;YAkF/E,IAAI,WAjFC,EAAY;gBAkFb,IAAI,CAjFC,cAAC,GAAgB,WAAA,CAAY;gBAkFlC,IAAI,CAjFC,aAAC,GAAe,WAAA,CAAY,IAAC,CAAI;gBAkFtC,IAAI,CAjFC,gBAAC,CAAgB,IAAC,CAAI,WAAC,CAAW,KAAC,CAAK,CAAC;aAkFjD;iBAjFM;;gBAmFH,IAAI,CAjFC,aAAC,GAAe,IAAA,CAAK;gBAkF1B,IAAI,CAjFC,cAAC,GAAgB,IAAA,CAAK;aAkF9B;SACJ;KACJ;;;;IA/EA,2BAAA,GAAL;QAoFQ,uBAnFM,UAAA,GAAa,IAAA,CAAK,SAAC,CAAS,aAAC;aAoF9B,aAnFC,CAAa,aAAC,CAAa;aAoF5B,qBAnFC,EAAqB,CAAE;QAoF7B,uBAnFM,KAAA,GAAQ,UAAA,CAAW,KAAC,CAAK;QAoF/B,uBAnFM,MAAA,GAAS,UAAA,CAAW,MAAC,CAAM;QAoFjC,uBAnFM,UAAA,GAAa,UAAA,CAAW,IAAC,CAAI;QAoFnC,uBAnFM,SAAA,GAAY,UAAA,CAAW,GAAC,GAAK,MAAA,GAAS,MAAA,CAAO,WAAC,CAAW;QAqF/D,IAAI,CAnFC,mBAAC,CAAmB,QAAC,CAAQ,KAAC;YAoF/B,CAAZ;mBACA,EAAqB,KAnFC,CAmFtB;kBACA,EAAoB,UAnFC,CAmFrB;iBACA,EAAmB,SAnFC,CAmFpB;0BACA,CAA2B,CAnFC;KAoFvB;;;;IAjFA,eAAA,GAAL;QAsFQ,OArFO,IAAA,CAAK,SAAC,CAAS,aAAC,CAAa,aAAC,CAAa,eAAC,CAAe,CAAC;KAsFtE;;;;IAnFA,mBAAA,GAAL;QAwFQ,OAvFO,IAAA,CAAK,SAAC,CAAS,aAAC,CAAa,aAAC,CAAa,oBAAC,CAAoB,CAAC;KAwF3E;;;;IArFA,UAAA,GAAL;QA0FQ,MAAM,CAzFC,gBAAC,CAAgB,QAAC,EAAS,IAAA,CAAK,8BAAC,EAA+B,IAAA,CAAK,CAAC;QA0F7E,MAAM,CAzFC,gBAAC,CAAgB,QAAC,EAAS,IAAA,CAAK,8BAAC,EAA+B,IAAA,CAAK,CAAC;QA0F7E,QAAQ,CAzFC,gBAAC,CAAgB,OAAC,EAAQ,IAAA,CAAK,mBAAC,EAAoB,IAAA,CAAK,CAAC;KA0FtE;;;;IAvFA,YAAA,GAAL;QA4FQ,MAAM,CA3FC,mBAAC,CAAmB,QAAC,EAAS,IAAA,CAAK,8BAAC,EAA+B,IAAA,CAAK,CAAC;QA4FhF,MAAM,CA3FC,mBAAC,CAAmB,QAAC,EAAS,IAAA,CAAK,8BAAC,EAA+B,IAAA,CAAK,CAAC;QA4FhF,QAAQ,CA3FC,mBAAC,CAAmB,OAAC,EAAQ,IAAA,CAAK,mBAAC,EAAoB,IAAA,CAAK,CAAC;KA4FzE;;;;;IAzFA,qBAAA,CAAA,MAAA,EAAL;QA+FQ,QA9FO,CAAE,IAAC,CAAI,eAAC,IAAkB,CAAA,IAAE,CAAI,eAAC,CAAe,OAAC,CAAO,MAAC,CAAM;gBAC/D,CAAE,IAAC,CAAI,eAAC,IAAkB,MAAA,CAAO,EAAE;KA+F7C;;;;;;IA5FA,aAAA,CAAA,IAAA,EAAA,OAAA,EAAL;QAmGQ,IAAI,IAlGC,CAAI,KAAC,EAAM;YAmGZ,OAAO,CAlGC,GAAC,CAAG,eAAC,EAAgB,OAAA,CAAQ,CAAC;SAmGzC;QACD,IAAI,CAlGC,IAAC,IAAO,IAAA,KAAS,EAAA,EAAI;;YAoGtB,OAlGO,OAAA,CAAQ;SAmGlB;aAlGM,IAAA,IAAK,CAAI,cAAC,IAAiB,EAAgB,IAAC,CAAI,cAAC,GAAe,IAAC,CAAI,WAAC,EAAW,KAAM,IAAA,CAAK,WAAC,EAAW,EAAG;;YAoG9G,OAlGO,OAAA,CAAQ;SAmGlB;aAlGM;;YAoGH,OAlGO,OAAA,CAAQ,MAAC,CAAM,CAAC,MAAC,KAkGpC;;gBAEgB,OAlGO,MAAA,CAAO,IAAC,CAAI,WAAC,EAAW,CAAE,QAAC,CAAQ,IAAC,CAAI,WAAC,EAAW,CAAE,CAAC;aAmGjE,CAlGC,CAAC;SAmGN;KACJ;;;;;IAhGA,eAAA,CAAA,QAAA,EAAL;QAsGQ,IAAI,IArGC,CAAI,KAAC,EAAM;YAsGZ,OAAO,CArGC,GAAC,CAAG,0BAAC,EAA2B,QAAA,CAAS,CAAC;SAsGrD;QACD,qBArGI,MAAA,GAAS,IAAA,CAAK,mBAAC,CAAmB;QAsGtC,IAAI,MArGC,KAAU,SAAA,EAAW;YAsGtB,MAAM,GArGG,CAAA,CAAE;SAsGd;aArGM;YAsGH,MAAM,IArGI,QAAA,CAAS;SAsGtB;QACD,IAAI,IArGC,CAAI,eAAC,CAAe,MAAC,GAAQ,MAAA,GAAS,CAAA,EAAG;YAsG1C,MAAM,GArGG,CAAA,CAAE;SAsGd;aArGM,IAAA,MAAK,GAAQ,CAAA,EAAG;YAsGnB,MAAM,GArGG,IAAA,CAAK,eAAC,CAAe,MAAC,GAAQ,CAAA,CAAE;SAsG5C;QACD,IAAI,CArGC,mBAAC,GAAqB,MAAA,CAAO;QAsGlC,IAAI,IArGC,CAAI,KAAC,EAAM;YAsGZ,OAAO,CArGC,GAAC,CAAG,wBAAC,EAAyB,MAAA,CAAO,CAAC;SAsGjD;KACJ;;AApGE,wBAAP,CAAA,UAAO,GAAoC;IAsG3C,EArGE,IAAA,EAAM,SAAA,EAAW,IAAA,EAAM,CAAA;gBAsGrB,QAAQ,EArGE,YAAA;gBAsGV,SAAS,EArGE,CAAA;wBAsGP,OAAO,EArGE,iBAAA;wBAsGT,WAAW,EArGE,UAAA,CAAW,MAAM,wBAAA,CAAyB;wBAsGvD,KAAK,EArGE,IAAA;qBAsGV,CArGC;gBAsGF,QAAQ,EArGE,CAqGd;;;;;;;;;;;;;;;;;;IAkBA,CAAK;gBACD,MAAM,EArGE,CAAA,CAqGZ;;IAEA,CAAK,CArGC;aAsGL,EArGC,EAAG;CAsGJ,CArGC;;;;AAED,wBAAD,CAAA,cAAC,GAAA,MAAA;IAwGD,EAAC,IAAI,EAAE,UAAU,GAAG;IACpB,EAAC,IAAI,EAAE,UAAU,GAAG;IACpB,EAAC,IAAI,EAAE,wBAAwB,GAAG;IAClC,EAAC,IAAI,EAAE,gBAAgB,GAAG;CACzB,CAAC;AAtGK,wBAAP,CAAA,cAAO,GAAyD;IAwGhE,aAAa,EAvGE,CAAA,EAAG,IAAA,EAAM,KAAA,EAAM,EAAE;IAwGhC,SAAS,EAvGE,CAAA,EAAG,IAAA,EAAM,KAAA,EAAM,EAAE;IAwG5B,WAAW,EAvGE,CAAA,EAAG,IAAA,EAAM,KAAA,EAAM,EAAE;IAwG9B,IAAI,EAvGE,CAAA,EAAG,IAAA,EAAM,KAAA,EAAM,EAAE;IAwGvB,OAAO,EAvGE,CAAA,EAAG,IAAA,EAAM,KAAA,EAAM,EAAE;IAwG1B,SAAS,EAvGE,CAAA,EAAG,IAAA,EAAM,KAAA,EAAM,EAAE;IAwG5B,gBAAgB,EAvGE,CAAA,EAAG,IAAA,EAAM,KAAA,EAAM,EAAE;IAwGnC,eAAe,EAvGE,CAAA,EAAG,IAAA,EAAM,KAAA,EAAM,EAAE;IAwGlC,iBAAiB,EAvGE,CAAA,EAAG,IAAA,EAAM,KAAA,EAAM,EAAE;IAwGpC,eAAe,EAvGE,CAAA,EAAG,IAAA,EAAM,KAAA,EAAM,EAAE;IAwGlC,cAAc,EAvGE,CAAA,EAAG,IAAA,EAAM,KAAA,EAAM,EAAE;IAwGjC,qBAAqB,EAvGE,CAAA,EAAG,IAAA,EAAM,MAAA,EAAO,EAAE;IAwGzC,kBAAkB,EAvGE,CAAA,EAAG,IAAA,EAAM,MAAA,EAAO,EAAE;CAwGrC,CAvGC;;ADtfF,MAAMC,MAAA,GAAO,MAAb,GAAmB,CAAG;AACtB,AAAA,MAAA,gCAAA,CAAA;;;;;;;IAoFA,WAAA,CANuB,SAAW,EACnB,cAAgB,EACf,wBAA0B,EAC1B,gBAAkB,EAGlC;QANuB,IAAvB,CAAA,SAAuB,GAAA,SAAA,CAAW;QACnB,IAAf,CAAA,cAAe,GAAA,cAAA,CAAgB;QACf,IAAhB,CAAA,wBAAgB,GAAA,wBAAA,CAA0B;QAC1B,IAAhB,CAAA,gBAAgB,GAAA,gBAAA,CAAkB;QA5EtB,IAAZ,CAAA,WAAY,GAA2B,IAAI,WAAA,EAAY,CAAE;QAC7C,IAAZ,CAAA,OAAY,GAAU,IAAA,CAAK;QACf,IAAZ,CAAA,SAAY,GAAY,MAAA,CAAO;QACnB,IAAZ,CAAA,WAAY,GAAc,EAAA,CAAG;QACjB,IAAZ,CAAA,EAAY,GAAK,IAAA,CAAK,MAAC,EAAM,CAAE;QACnB,IAAZ,CAAA,KAAY,GAAQ,KAAA,CAAM;QAWd,IAAZ,CAAA,aAAY,GAAgB,EAAA,CAAG;QAInB,IAAZ,CAAA,mBAAY,GAAsB,IAAI,YAAA,EAAiB,CAAG;QAC9C,IAAZ,CAAA,gBAAY,GAAmB,IAAI,YAAA,EAAiB,CAAG;QAI3C,IAAZ,CAAA,UAAY,GAAa,KAAA,CAAM;QACnB,IAAZ,CAAA,eAAY,GAAkB,KAAA,CAAM;QACxB,IAAZ,CAAA,cAAY,GAAiB,KAAA,CAAM;QAEvB,IAAZ,CAAA,UAAY,GAAoB,EAAA,CAAG;QACvB,IAAZ,CAAA,iBAAY,GAAqC,EAAA,CAAG;QACxC,IAAZ,CAAA,eAAY,GAAmC,EAAA,CAAG;QAEtC,IAAZ,CAAA,oBAAY,GAAwC,EAAA,CAAG;QAQ3C,IAAZ,CAAA,8BAAY,GAAsC,IAAA,CAAK,sBAAC,CAAsB,IAAC,CAAI,IAAC,CAAI,CAAC;QAC7E,IAAZ,CAAA,mBAAY,GAA2B,IAAA,CAAK,WAAC,CAAW,IAAC,CAAI,IAAC,CAAI,CAAC;QAEvD,IAAZ,CAAA,kBAAY,GAAqB,IAAIC,SAAA,EAAe,CAAG;QAI3C,IAAZ,CAAA,QAAY,GAA6BD,MAAA,CAAK;QAElC,IAAZ,CAAA,SAAY,GAAwBA,MAAA,CAAK;KA0BU;;;;;IAtEnD,IAAM,OAAA,CAAA,OAAA,EAAN;QACQ,IAAI,CAAC,UAAC,GAAY,OAAA,CAAQ;QAC1B,IAAI,CAAC,UAAC,CAAU,OAAC,CAAO,CAAC;KAC5B;;;;;IAKL,IAJM,eAAA,CAAA,OAAA,EAIN;QACQ,IAAI,CAJC,kBAAC,CAAkB,OAAC,CAAO,CAAC;KAKpC;;;;;IAKL,IARM,aAAA,CAAA,GAAA,EAQN;QACQ,IAAI,CARC,eAAC,GAAiB,GAAA,CAAI;KAS9B;;;;;IAwBL,UAKK,CAAA,GAAA,EALL;QACQ,IAAI,IAKC,CAAI,qBAAC,CAAqB,GAAC,CAAG,EAAE;YAJjC,IAAI,CAKC,kBAAC,CAAkB,GAAC,EAAI,KAAA,CAAM,CAAC;SAJvC;KACJ;;;;;IAKL,gBAEK,CAAA,EAAA,EAFL;QACQ,IAAI,CAEC,QAAC,GAAU,EAAA,CAAG;KADtB;;;;;IAKL,iBADK,CAAA,EAAA,EACL;QACQ,IAAI,CADC,SAAC,GAAW,EAAA,CAAG;KAEvB;;;;;IAKL,gBAJK,CAAA,UAAA,EAIL;QACQ,IAAI,CAJC,UAAC,GAAY,UAAA,CAAW;KAKhC;;;;IAcL,QARK,GAQL;QACQ,AAJO;;YAUH,IAAI,CARC,uBAAC,GAAyB,IAAA,CAAK,kBAAC;iBAShC,YARC,CAAY,IAAC,CAAI,aAAC,CAAa;iBAShC,SARC,CAAS,IAAC,IAQ5B;gBACoB,OAROD,YAAA,CAAW,EAAC,CAAE,IAAC,CAAI,aAAC,CAAa,IAAC,EAAK,IAAA,CAAK,iBAAC,CAAiB,CAAC,CAAC;aAS1E,CARC,CAAC;;YAUP,IAAI,CARC,uBAAC,CAAuB,SAAC,CAAS,CAAC,IAAoB,KAQxE;gBACgB,IAAI,IARC,CAAI,KAAC,EAAM;oBASZ,OAAO,CARC,GAAC,CAAG,UAAC,EAAW,IAAA,EAAM,IAAA,CAAK,eAAC,EAAgB,IAAA,CAAK,iBAAC,CAAiB,CAAC;iBAS/E;gBACD,IAAI,CARC,eAAC,GAAiB,IAAA,CAAK;gBAS5B,IAAI,CARC,mBAAC,CAAmB,QAAC,CAAQ,OAAC,GAAS,IAAA,CAAK;aASpD,CARC,CAAC;SASN;KACJ;;;;IAIL,WAXK,GAWL;QACQ,IAAI,CAXC,wBAAC,EAAwB,CAAE;KAYnC;;;;;IAPA,WAAA,CAAA,MAAA,EAAL;QAaQ,IAAI,CAZC,kBAAC,EAAkB,CAAE;QAa1B,IAAI,IAZC,CAAI,KAAC,EAAM;YAaZ,OAAO,CAZC,GAAC,CAAG,aAAC,CAAa,CAAC;SAa9B;QACD,UAAU,CAZC,MAYnB;;YAEY,IAAI,CAZC,QAAC,CAAQ,aAAC,KAAiB,IAAA,CAAK,mBAAC,EAAmB;iBAapD,QAZC,CAAQ,aAAC,KAAiB,IAAA,CAAK,eAAC,EAAe,CAAE,EAAE;gBAarD,IAAI,CAZC,YAAC,EAAY,CAAE;aAavB;YACD,IAAI,CAZC,SAAC,EAAS,CAAE;SAapB,EAZE,GAAA,CAAI,CAAC;KAaX;;;;;IAVA,YAAA,CAAA,MAAA,EAAL;QAgBQ,IAAI,CAfC,kBAAC,EAAkB,CAAE;KAgB7B;;;;;IAbA,iBAAA,CAAA,MAAA,EAAL;QAmBQ,QAAQ,MAlBC,CAAM,OAAC;;YAoBZ,KAlBK,EAAA,CAAG;YAmBR,KAlBK,EAAA;gBAmBD,MAAM,CAlBC,cAAC,EAAc,CAAE;;gBAoBxB,IAAI,CAlBC,IAAC,CAAI,eAAC,EAAgB;oBAmBvB,IAAI,CAlBC,WAAC,EAAW,CAAE;iBAmBtB;;gBAED,IAAI,MAlBC,CAAM,OAAC,KAAW,EAAA,EAAI;oBAmBvB,IAAI,CAlBC,eAAC,CAAe,CAAC,CAAC,CAAC,CAAC;iBAmB5B;qBAlBM,IAAA,MAAK,CAAM,OAAC,KAAW,EAAA,EAAI;oBAmB9B,IAAI,CAlBC,eAAC,CAAe,CAAC,CAAC,CAAC,CAAC;iBAmB5B;gBACD,IAAI,CAlBC,mBAAC,CAAmB,QAAC,CAAQ,mBAAC,GAAqB,IAAA,CAAK,mBAAC,CAAmB;gBAmBjF,MAAM;YACV,KAlBK,EAAA;gBAmBD,MAAM,CAlBC,cAAC,EAAc,CAAE;;gBAoBxB,IAAI,IAlBC,CAAI,eAAC,EAAgB;oBAmBtB,IAAI,CAlBC,YAAC,EAAY,CAAE;iBAmBvB;;gBAED,IAAI,CAlBC,aAAC,GAAe,EAAA,CAAG;;gBAoBxB,IAAI,CAlBC,qBAAC,EAAqB,CAAE;gBAmB7B,MAAM;YACV,KAlBK,EAAA;gBAmBD,MAAM,CAlBC,cAAC,EAAc,CAAE;gBAmBxB,IAAI,IAlBC,CAAI,mBAAC,KAAuB,SAAA,EAAW;oBAmBxC,uBAlBM,cAAA,GAAiB,IAAA,CAAK,eAAC,CAAe,IAAC,CAAI,mBAAC,CAAmB,CAAC;oBAmBtE,IAAI,CAlBC,iBAAC,CAAiB,cAAC,CAAc,CAAC;oBAmBvC,IAAI,CAlBC,mBAAC,GAAqB,SAAA,CAAU;oBAmBrC,IAAI,CAlBC,YAAC,EAAY,CAAE;oBAmBpB,IAAI,CAlBC,qBAAC,EAAqB,CAAE;iBAmBhC;qBAlBM;oBAmBH,IAAI,CAlBC,oBAAC,EAAoB,CAAE;iBAmB/B;gBACD,MAAM;SACb;KACJ;;;;;IAhBA,aAAA,CAAA,MAAA,EAAL;QAsBQ,IAAI,IArBC,CAAI,KAAC,EAAM;YAsBZ,OAAO,CArBC,GAAC,CAAG,eAAC,EAAgB,MAAA,CAAO,CAAC;SAsBxC;;QAED,IAAI,CArBC,IAAC,CAAI,eAAC,EAAgB;YAsBvB,IAAI,CArBC,WAAC,EAAW,CAAE;SAsBtB;;QAED,IAAI,CArBC,kBAAC,CAAkB,IAAC,CAAI,MAAC,CAAM,CAAC;KAsBxC;;;;;IAnBA,iBAAA,CAAA,MAAA,EAAL;QAyBQ,IAAI,IAxBC,CAAI,KAAC,EAAM;YAyBZ,OAAO,CAxBC,GAAC,CAAG,mBAAC,EAAoB,MAAA,CAAO,CAAC;SAyB5C;QACD,IAAI,CAxBC,IAAC,CAAI,oBAAC,EAAqB;YAyB5B,IAAI,CAxBC,oBAAC,GAAsB,EAAA,CAAG;SAyBlC;QACD,IAAI,CAxBC,oBAAC,CAAoB,IAAC,CAAI,MAAC,CAAM,CAAC;QAyBvC,IAAI,CAxBC,kBAAC,CAAkB,IAAC,CAAI,oBAAC,CAAoB,CAAC;QAyBnD,IAAI,CAxBC,YAAC,EAAY,CAAE;QAyBpB,IAAI,MAxBC,EAAO;YAyBR,IAAI,CAxBC,sBAAC,EAAsB,CAAE;YAyB9B,IAAI,CAxBC,gBAAC,CAAgB,IAAC,CAAI,IAAC,CAAI,oBAAC,CAAoB,GAAC,CAAG,CAAC,GAAK,KAwB3E;gBACgB,OAxBO,GAAA,CAAI,KAAC,CAAK;aAyBpB,CAxBC,CAAC,CAAC;SAyBP;KACJ;;;;;IAtBA,cAAA,CAAA,MAAA,EAAL;QA4BQ,IAAI,IA3BC,CAAI,KAAC,EAAM;YA4BZ,OAAO,CA3BC,GAAC,CAAG,gBAAC,EAAiB,MAAA,CAAO,CAAC;SA4BzC;QACD,IAAI,CA3BC,oBAAC,GAAsB,IAAA,CAAK,oBAAC,CAAoB,MAAC,CAAM,CAAC,cAAgB,KA2BtF;YACY,OA3BO,cAAA,CAAe,OAAC,CAAO,MAAC,CAAM,KAAK,KAAA,CAAM;SA4BnD,CA3BC,CAAC;QA4BH,IAAI,CA3BC,kBAAC,CAAkB,IAAC,CAAI,oBAAC,CAAoB,CAAC;KA4BtD;;;;IAzBA,sBAAA,GAAL;QA8BQ,IAAI,CA7BC,2BAAC,EAA2B,CAAE;KA8BtC;;;;;IA3BA,WAAA,CAAA,MAAA,EAAL;;QAkCQ,qBAhCI,eAAA,GAAkB,MAAA,CAAO,IAAC,CAAI,OAAC,CAAO,IAAC,CAAI,SAAC,CAAS,aAAC,CAAa,CAAC;QAiCxE,IAAI,eAhCC,KAAmB,CAAA,CAAE,EAAE;YAiCxB,eAAe,GAhCG,MAAA,CAAO,IAAC,CAAI,OAAC,CAAO,IAAC,CAAI,mBAAC,CAAmB,QAAC,CAAQ,cAAC,CAAc,aAAC,CAAa,CAAC;SAiCzG;;;QAGD,IAAI,eAhCC,KAAmB,CAAA,CAAE,EAAE;YAiCxB,MAAM,CAhCC,cAAC,EAAc,CAAE;YAiCxB,OAAO;SACV;aAhCM;YAiCH,IAAI,CAhCC,YAAC,EAAY,CAAE;SAiCvB;KACJ;;;;;IA5BA,UAAA,CAAA,OAAA,EAAL;QAkCQ,IAAI,IAjCC,CAAI,KAAC,EAAM;YAkCZ,OAAO,CAjCC,GAAC,CAAG,YAAC,EAAa,OAAA,CAAQ,CAAC;SAkCtC;QACD,IAAI,CAjCC,OAAC,EAAQ;YAkCV,IAAI,CAjCC,iBAAC,GAAmB,EAAA,CAAG;SAkC/B;aAjCM;YAkCH,uBAjCM,cAAA,GAAkC,aAAA;iBAkCnC,gBAjCC,CAAgB,OAAC,EAAQ,IAAA,CAAK,SAAC,EAAU,IAAA,CAAK,OAAC,CAAO,CAAC;YAkC7D,IAAI,CAjCC,iBAAC,GAAmB,cAAA,CAAe;YAkCxC,IAAI,CAjCC,eAAC,GAAiB,cAAA,CAAe;SAkCzC;KACJ;;;;;;IA/BA,kBAAA,CAAA,OAAA,EAAA,iBAAA,GAAA,IAAA,EAAL;QAsCQ,IAAI,IArCC,CAAI,KAAC,EAAM;YAsCZ,OAAO,CArCC,GAAC,CAAG,oBAAC,EAAqB,OAAA,EAAS,iBAAA,CAAkB,CAAC;SAsCjE;QACD,IAAI,CArCC,OAAC,IAAU,OAAA,CAAQ,MAAC,KAAU,CAAA,EAAG;YAsClC,IAAI,CArCC,0BAAC,CAA0B,IAAC,EAAK,iBAAA,CAAkB,CAAC;YAsCzD,OAAO;SACV;QACD,uBArCM,aAAA,GAAgB,EAAE,OAAC,CAAO,CAAC,CAAC,YAAY,aAAA,CAAc,CAAC;QAsC7D,uBArCM,cAAA,GAAiB,aAAA,GAAgB,EAAA,GAAK,OAAA,CAAQ;QAsCpD,IAAI,aArCC,EAAc;YAsCf,OAAO,CArCC,OAAC,CAAO,MAAC,IAqC7B;gBACgB,qBArCI,OAAS,CAAc;gBAsC3B,IAAI,OArCO,MAAA,KAAW,QAAA,EAAU;oBAsC5B,OAAO,GArCG,IAAI,aAAA,CAAc,IAAC,CAAI,SAAC,EAAU,IAAA,CAAK,OAAC,EAAQ,MAAA,CAAO,CAAC;iBAsCrE;qBArCM;oBAsCH,OAAO,GArCG,IAAI,aAAA,CAAc,IAAC,EAAK,IAAA,EAAM,IAAA,EAAM,MAAA,CAAO,CAAC;iBAsCzD;gBACD,cAAc,CArCC,IAAC,CAAI,OAAC,CAAO,CAAC;aAsChC,CArCC,CAAC;SAsCN;;;QAGD,IAAI,IArCC,CAAI,qBAAC,CAAqB,cAAC,CAAc,EAAE;YAsC5C,IAAI,CArCC,0BAAC,CAA0B,cAAC,EAAe,iBAAA,CAAkB,CAAC;SAsCtE;KACJ;;;;;;IAnCA,0BAAA,CAAA,UAAA,EAAA,iBAAA,GAAA,IAAA,EAAL;QA0CQ,IAAI,IAzCC,CAAI,KAAC,EAAM;YA0CZ,OAAO,CAzCC,GAAC,CAAG,4BAAC,EAA6B,UAAA,EAAY,iBAAA,CAAkB,CAAC;SA0C5E;QACD,IAAI,CAzCC,oBAAC,GAAsB,UAAA,CAAW;QA0CvC,IAAI,CAzCC,aAAC,GAAe,EAAA,CAAG;QA0CxB,IAAI,iBAzCC,EAAkB;YA0CnB,uBAzCM,OAAA,GAAU,aAAA,CAAc,kBAAC,CAAkB,UAAC,CAAU,CAAC;YA0C7D,IAAI,CAzCC,WAAC,CAAW,QAAC,CAAQ,OAAC,CAAO,CAAC;YA0CnC,IAAI,CAzCC,QAAC,CAAQ,OAAC,CAAO,CAAC;SA0C1B;KACJ;;;;;IAvCA,aAAA,CAAA,MAAA,EAAL;QA6CQ,IAAI,IA5CC,CAAI,eAAC,KAAmB,IAAA,EAAM;YA6C/B,IAAI,CA5CC,YAAC,EAAY,CAAE;SA6CvB;aA5CM;YA6CH,IAAI,CA5CC,kBAAC,CAAkB,IAAC,CAAI,IAAC,CAAI,aAAC,CAAa,CAAC;YA6CjD,IAAI,CA5CC,WAAC,EAAW,CAAE;YA6CnB,IAAI,CA5CC,qBAAC,EAAqB,CAAE;SA6ChC;KACJ;;;;IA1CA,kBAAA,GAAL;QA+CQ,IAAI,CA9CC,cAAC,GAAgB,CAAA,IAAE,CAAI,cAAC,CAAc;KA+C9C;;;;IA5CA,WAAA,GAAL;QAiDQ,IAAI,CAhDC,eAAC,GAAiB,IAAA,CAAK;QAiD5B,IAAI,CAhDC,uBAAC,EAAuB,CAAE;QAiD/B,IAAI,CAhDC,UAAC,EAAU,CAAE;KAiDrB;;;;IA9CA,YAAA,GAAL;QAmDQ,IAAI,CAlDC,wBAAC,EAAwB,CAAE;QAmDhC,IAAI,CAlDC,eAAC,GAAiB,KAAA,CAAM;QAmD7B,IAAI,CAlDC,mBAAC,GAAqB,SAAA,CAAU;QAmDrC,IAAI,CAlDC,YAAC,EAAY,CAAE;KAmDvB;;;;IAhDA,UAAA,GAAL;QAqDQ,MAAM,CApDC,gBAAC,CAAgB,QAAC,EAAS,IAAA,CAAK,8BAAC,EAA+B,IAAA,CAAK,CAAC;QAqD7E,MAAM,CApDC,gBAAC,CAAgB,QAAC,EAAS,IAAA,CAAK,8BAAC,EAA+B,IAAA,CAAK,CAAC;QAqD7E,QAAQ,CApDC,gBAAC,CAAgB,OAAC,EAAQ,IAAA,CAAK,mBAAC,EAAoB,IAAA,CAAK,CAAC;KAqDtE;;;;IAlDA,YAAA,GAAL;QAuDQ,MAAM,CAtDC,mBAAC,CAAmB,QAAC,EAAS,IAAA,CAAK,8BAAC,EAA+B,IAAA,CAAK,CAAC;QAuDhF,MAAM,CAtDC,mBAAC,CAAmB,QAAC,EAAS,IAAA,CAAK,8BAAC,EAA+B,IAAA,CAAK,CAAC;QAuDhF,QAAQ,CAtDC,mBAAC,CAAmB,OAAC,EAAQ,IAAA,CAAK,mBAAC,EAAoB,IAAA,CAAK,CAAC;KAuDzE;;;;IApDA,uBAAA,GAAL;QAyDQ,uBAxDM,OAAA,GAAU,IAAA,CAAK,wBAAC,CAAwB,uBAAC,CAAuB,uBAAC,CAAuB,CAAC;QAyD/F,IAAI,CAxDC,mBAAC,GAAqB,IAAA,CAAK,gBAAC,CAAgB,eAAC,CAAe,OAAC,CAAO,CAAC;QAyD1E,IAAI,CAxDC,mBAAC,CAAmB,iBAAC,CAAiB,aAAC,EAAa,CAAE;QAyD3D,IAAI,CAxDC,mBAAC,CAAmB,QAAC,CAAQ,OAAC,GAAS,IAAA,CAAK,eAAC,CAAe;QAyDjE,IAAI,CAxDC,mBAAC,CAAmB,QAAC,CAAQ,KAAC,GAAO,IAAA,CAAK,KAAC,CAAK;;QA0DrD,IAAI,CAxDC,mBAAC,CAAmB,QAAC,CAAQ,WAAC,GAAa,IAAA,CAAK,SAAC,CAAS;QAyD/D,IAAI,CAxDC,mBAAC,CAAmB,QAAC,CAAQ,gBAAC,CAAgB,SAAC,CAAS,IAAC,IAAO,IAAA,CAAK,iBAAC,CAAiB,IAAC,CAAI,CAAC,CAAC;QAyDnG,QAAQ,CAxDC,aAAC,CAAa,MAAC,CAAM;aAyDzB,WAxDC,CAAW,IAAC,CAAI,mBAAC,CAAmB,QAAC,CAAQ,cAAC,CAAc,aAAC,CAAa,CAAC;QAyDjF,IAAI,CAxDC,2BAAC,EAA2B,CAAE;KAyDtC;;;;IAtDA,wBAAA,GAAL;QA2DQ,IAAI,IA1DC,CAAI,mBAAC,EAAoB;YA2D1B,IAAI,CA1DC,mBAAC,CAAmB,OAAC,EAAO,CAAE;SA2DtC;KACJ;;;;IAxDA,2BAAA,GAAL;QA6DQ,uBA5DM,MAAA,GAAS,aAAA,CAAc,iBAAC,CAAiB,IAAC,CAAI,SAAC,CAAS,aAAC,EAAc,sBAAA,CAAuB,CAAC;QA6DrG,IAAI,CA5DC,mBAAC,CAAmB,QAAC,CAAQ,KAAC,GAAO,MAAA,CAAO;KA6DpD;;;;IA1DA,qBAAA,GAAL;QA+DQ,UAAU,CA9DC,MA8DnB;YACY,IAAI,CA9DC,eAAC,EAAe,CAAE,MAAC,EAAM,CAAE;SA+DnC,EA9DE,CAAA,CAAE,CAAC;KA+DT;;;;IA5DA,eAAA,GAAL;QAiEQ,OAhEO,IAAA,CAAK,SAAC,CAAS,aAAC,CAAa,aAAC,CAAa,iBAAC,CAAiB,CAAC;KAiExE;;;;IA9DA,mBAAA,GAAL;QAmEQ,OAlEO,IAAA,CAAK,SAAC,CAAS,aAAC,CAAa,aAAC,CAAa,oBAAC,CAAoB,CAAC;KAmE3E;;;;IAhEA,sBAAA,GAAL;QAqEQ,UAAU,CApEC,MAoEnB;YACY,IAAI,CApEC,eAAC,EAAe,CAAE,MAAC,EAAM,CAAE;SAqEnC,EApEE,CAAA,CAAE,CAAC;KAqET;;;;;IAlEA,qBAAA,CAAA,OAAA,EAAL;;QAyEQ,OAvEO,IAAA,CAAK;KAwEf;;;;;;IArEA,aAAA,CAAA,IAAA,EAAA,OAAA,EAAL;QA4EQ,IAAI,IA3EC,CAAI,KAAC,EAAM;YA4EZ,OAAO,CA3EC,GAAC,CAAG,qBAAC,EAAsB,IAAA,EAAM,OAAA,CAAQ,CAAC;SA4ErD;QACD,qBA3EI,QAAA,GAA4B,EAAA,CAAG;QA4EnC,IAAI,CA3EC,IAAC,IAAO,IAAA,KAAS,EAAA,EAAI;;YA6EtB,QAAQ,GA3EG,OAAA,CAAQ;SA4EtB;aA3EM,AAGA;;YA6EH,QAAQ,GA3EG,OAAA,CAAQ,MAAC,CAAM,CAAC,MAAC,KA2ExC;;gBAEgB,OA3EO,MAAA,CAAO,IAAC,CAAI,WAAC,EAAW,CAAE,QAAC,CAAQ,IAAC,CAAI,WAAC,EAAW,CAAE,CAAC;aA4EjE,CA3EC,CAAC;SA4EN;;QAED,QAAQ,GA3EG,QAAA,CAAS,MAAC,CAAM,CAAC,cAAgB,KA2EpD;YACY,uBA3EM,eAAA,GAAkB,CAAA,IAAE,CAAI,oBAAC,IAAuB,EAAA,EAAI,MAAC,CAAM,CAAC,cAAgB,KA2E9F;gBACgB,OA3EO,cAAA,CAAe,OAAC,CAAO,cAAC,CAAc,CAAC;aA4EjD,CA3EC,CAAC;YA4EH,OA3EO,eAAA,CAAgB,MAAC,KAAU,CAAA,CAAE;SA4EvC,CA3EC,CAAC;QA4EH,IAAI,IA3EC,CAAI,KAAC,EAAM;YA4EZ,OAAO,CA3EC,GAAC,CAAG,mBAAC,EAAoB,QAAA,CAAS,CAAC;SA4E9C;QACD,OA3EO,QAAA,CAAS;KA4EnB;;;;;IAzEA,eAAA,CAAA,QAAA,EAAL;QA+EQ,IAAI,IA9EC,CAAI,KAAC,EAAM;YA+EZ,OAAO,CA9EC,GAAC,CAAG,0BAAC,EAA2B,QAAA,CAAS,CAAC;SA+ErD;QACD,qBA9EI,MAAA,GAAS,IAAA,CAAK,mBAAC,CAAmB;QA+EtC,IAAI,MA9EC,KAAU,SAAA,EAAW;YA+EtB,MAAM,GA9EG,CAAA,CAAE;SA+Ed;aA9EM;YA+EH,MAAM,IA9EI,QAAA,CAAS;SA+EtB;QACD,IAAI,IA9EC,CAAI,eAAC,CAAe,MAAC,GAAQ,MAAA,GAAS,CAAA,EAAG;YA+E1C,MAAM,GA9EG,CAAA,CAAE;SA+Ed;aA9EM,IAAA,MAAK,GAAQ,CAAA,EAAG;YA+EnB,MAAM,GA9EG,IAAA,CAAK,eAAC,CAAe,MAAC,GAAQ,CAAA,CAAE;SA+E5C;QACD,IAAI,CA9EC,mBAAC,GAAqB,MAAA,CAAO;QA+ElC,IAAI,IA9EC,CAAI,KAAC,EAAM;YA+EZ,OAAO,CA9EC,GAAC,CAAG,wBAAC,EAAyB,MAAA,CAAO,CAAC;SA+EjD;KACJ;;;;IA5EA,oBAAA,GAAL;QAiFQ,IAAI,CAhFC,IAAC,CAAI,aAAC,IAAgB,IAAA,CAAK,aAAC,KAAiB,EAAA,EAAI;YAiFlD,OAAO;SACV;QACD,IAAI,IAhFC,CAAI,eAAC,IAAkB,IAAA,CAAK,eAAC,CAAe,MAAC,KAAU,CAAA,EAAG;YAiF3D,IAAI,CAhFC,iBAAC,CAAiB,IAAC,CAAI,eAAC,CAAe,CAAC,CAAC,CAAC,CAAC;SAiFnD;aAhFM;;YAkFH,uBAhFM,WAAA,GAA6B,IAAA,CAAK,iBAAC;iBAiFpC,IAhFC,CAAI,CAAC,CAAG,KAiFN,CAAC,CAhFC,IAAC,CAAI,iBAAC,EAAiB,KAAM,IAAA,CAAK,aAAC,CAAa,iBAAC,EAAiB,CAAE,CAAC;YAiF/E,IAAI,WAhFC,EAAY;gBAiFb,IAAI,CAhFC,iBAAC,CAAiB,WAAC,CAAW,CAAC;aAiFvC;YACD,IAAI,CAhFC,aAAC,GAAe,EAAA,CAAG;SAiF3B;KACJ;;;AA9EE,gCAAP,CAAA,UAAO,GAAoC;IAiF3C,EAhFE,IAAA,EAAM,SAAA,EAAW,IAAA,EAAM,CAAA;gBAiFrB,QAAQ,EAhFE,qBAAA;gBAiFV,SAAS,EAhFE,CAAA;wBAiFP,OAAO,EAhFE,iBAAA;wBAiFT,WAAW,EAhFE,UAAA,CAAW,MAAM,gCAAA,CAAiC;wBAiF/D,KAAK,EAhFE,IAAA;qBAiFV,CAhFC;gBAiFF,QAAQ,EAhFE,CAgFd;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IA6BA,CAAK;gBACD,MAAM,EAhFE,CAAA,CAgFZ;;;;;;;;;;;;;;;;;;;;;;;;;;;IA2BA,CAAK,CAhFC;aAiFL,EAhFC,EAAG;CAiFJ,CAhFC;;;;AAED,gCAAD,CAAA,cAAC,GAAA,MAAA;IAmFD,EAAC,IAAI,EAAE,UAAU,GAAG;IACpB,EAAC,IAAI,EAAE,UAAU,GAAG;IACpB,EAAC,IAAI,EAAE,wBAAwB,GAAG;IAClC,EAAC,IAAI,EAAE,gBAAgB,GAAG;CACzB,CAAC;AAjFK,gCAAP,CAAA,cAAO,GAAyD;IAmFhE,aAAa,EAlFE,CAAA,EAAG,IAAA,EAAM,KAAA,EAAM,EAAE;IAmFhC,SAAS,EAlFE,CAAA,EAAG,IAAA,EAAM,KAAA,EAAM,EAAE;IAmF5B,WAAW,EAlFE,CAAA,EAAG,IAAA,EAAM,KAAA,EAAM,EAAE;IAmF9B,aAAa,EAlFE,CAAA,EAAG,IAAA,EAAM,KAAA,EAAM,EAAE;IAmFhC,IAAI,EAlFE,CAAA,EAAG,IAAA,EAAM,KAAA,EAAM,EAAE;IAmFvB,OAAO,EAlFE,CAAA,EAAG,IAAA,EAAM,KAAA,EAAM,EAAE;IAmF1B,SAAS,EAlFE,CAAA,EAAG,IAAA,EAAM,KAAA,EAAM,EAAE;IAmF5B,iBAAiB,EAlFE,CAAA,EAAG,IAAA,EAAM,KAAA,EAAM,EAAE;IAmFpC,eAAe,EAlFE,CAAA,EAAG,IAAA,EAAM,KAAA,EAAM,EAAE;IAmFlC,eAAe,EAlFE,CAAA,EAAG,IAAA,EAAM,KAAA,EAAM,EAAE;IAmFlC,qBAAqB,EAlFE,CAAA,EAAG,IAAA,EAAM,MAAA,EAAO,EAAE;IAmFzC,kBAAkB,EAlFE,CAAA,EAAG,IAAA,EAAM,MAAA,EAAO,EAAE;CAmFrC,CAlFC;;AD5hBF,MAAA,qBAAA,CAAA;;AAE4C,qBAA5C,CAAA,UAA4C,GAAoC;IADhF,EAEE,IAAA,EAAM,QAAA,EAAU,IAAA,EAAM,CAAA;gBADpB,OAAO,EAEE;oBADL,YAAY;oBACZ,WAAW;oBACX,mBAAmB;iBACtB;gBACD,YAAY,EAEE;oBADV,wBAAwB;oBACxB,gCAAgC;oBAChC,uBAAuB;iBAC1B;gBACD,SAAS,EAEE,EADV;gBACD,OAAO,EAEE;oBADL,wBAAwB;oBACxB,gCAAgC;oBAChC,uBAAuB;iBAC1B;gBACD,eAAe,EAEE;oBADb,wBAAwB;oBACxB,gCAAgC;oBAChC,uBAAuB;iBAC1B;aACJ,EAEC,EAAG;CADJ,CAEC;;;;AAED,qBAAD,CAAA,cAAC,GAAA,MAAA,EACA,CAAC;;ADzCF;;GAEG;;;;"}
